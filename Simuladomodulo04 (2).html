<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="utf-8"/>
  <meta content="width=device-width, initial-scale=1.0" name="viewport"/>
  <title>Simulado de Módulo 04</title>
  <style>
    body {
      font-family: sans-serif;
      margin: 0;
      padding: 20px;
      display: flex;
      justify-content: center;
      align-items: flex-start;
      min-height: 100vh;
      background-color: #f4f4f4;
    }

    .quiz-container {
      max-width: 800px;
      width: 100%;
    }

    h1 {
      color: #333;
      text-align: center;
      margin-bottom: 30px;
    }

    .card {
      background-color: white;
      border-radius: 8px;
      padding: 20px;
      margin-bottom: 20px;
      box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
    }

    .question {
      font-weight: bold;
      margin-bottom: 10px;
      color: #333;
    }

    .options {
      margin-top: 15px;
    }

    /* Estilos unificados para todas as opções (estáticas e dinâmicas) */
    .option, label.option, label, #newQuestionsContent label {
      display: flex; /* Para alinhar imagem e texto */
      align-items: center;
      margin-bottom: 10px;
      padding: 10px;
      border: 1px solid #ddd;
      border-radius: 5px;
      cursor: pointer;
      transition: background-color 0.2s ease;
      position: relative; /* Para posicionar a tesoura */
    }

    /* FORÇA a remoção de inputs de radio em QUALQUER lugar */
    .option input[type="radio"], 
    label input[type="radio"],
    #newQuestionsContent input[type="radio"],
    #newQuestionsContent label input[type="radio"] {
        display: none !important;
        visibility: hidden !important;
        opacity: 0 !important;
        position: absolute !important;
        left: -9999px !important;
    }

    .option:hover, 
    label.option:hover, 
    label:hover,
    #newQuestionsContent label:hover {
      background-color: #e9e9e9;
    }

    .option.selected, 
    label.option.selected, 
    label.selected,
    #newQuestionsContent label.selected {
      background-color: #d1e7dd;
      border-color: #28a745;
    }

    .option.correct, 
    label.option.correct, 
    label.correct,
    #newQuestionsContent label.correct {
      background-color: #d4edda;
      border-color: #28a745;
    }

    .option.incorrect, 
    label.option.incorrect, 
    label.incorrect,
    #newQuestionsContent label.incorrect {
      background-color: #f8d7da;
      border-color: #dc3545;
    }

    .submit-btn {
      display: block;
      width: 100%;
      padding: 15px;
      background-color: #007bff;
      color: white;
      border: none;
      border-radius: 5px;
      font-size: 18px;
      cursor: pointer;
      transition: background-color 0.3s ease;
      margin-top: 30px;
    }

    .submit-btn:hover {
      background-color: #0056b3;
    }

    .results {
      text-align: center;
      margin-top: 30px;
      font-size: 20px;
      font-weight: bold;
      color: #333;
    }

    .scissor-icon {
      margin-right: 10px; /* Espaço entre a tesoura e o texto da opção */
      width: 20px; /* Ajuste conforme o tamanho da sua imagem */
      height: 20px; /* Ajuste conforme o tamanho da sua imagem */
      opacity: 0.5; /* Transparência como no original */
      cursor: pointer;
    }

    .scissor-icon.hidden {
      display: none;
    }

    .struck-through {
      text-decoration: line-through;
      color: #888;
    }

    .comment {
      margin-top: 10px;
      padding: 10px;
      background-color: #f0f0f0;
      border-left: 4px solid #007bff;
      font-style: italic;
      color: #555;
      display: none; /* Escondido por padrão */
    }
    .comment.show {
      display: block; /* Mostrado quando ativado */
    }

    /* Estilos para o botão de navegação de erro / diagnóstico */
    .error-nav-btn {
      position: fixed;
      bottom: 20px;
      right: 20px;
      background-color: #dc3545; /* Vermelho para erro */
      color: white;
      border: none;
      border-radius: 50%; /* Torna o botão redondo */
      width: 60px;
      height: 60px;
      font-size: 24px;
      display: flex;
      justify-content: center;
      align-items: center;
      cursor: pointer;
      box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
      z-index: 1000;
      display: none; /* Escondido por padrão */
      flex-direction: column; /* Para empilhar o ícone e o contador */
      padding: 5px; /* Ajuste o padding para acomodar texto maior */
      box-sizing: border-box; /* Garante que padding não aumente o tamanho total */
      text-align: center;
    }

    .error-nav-btn:hover {
      background-color: #c82333;
    }

    .error-nav-btn .arrow-icon {
      font-size: 30px; /* Tamanho da seta */
      line-height: 1; /* Ajuste para centralizar */
    }

    .error-nav-btn .button-text {
      font-size: 12px; /* Tamanho do texto abaixo da seta */
      line-height: 1;
      margin-top: 2px; /* Espaço entre a seta e o texto */
    }

    /* Estilos para a seção de diagnóstico de erros */
    .error-diagnosis-section {
        margin-top: 50px;
        padding: 30px;
        background-color: #ffe0b2; /* Um laranja claro ou similar */
        border-radius: 8px;
        box-shadow: 0 2px 5px rgba(0,0,0,0.15);
        display: none; /* Escondido por padrão */
        text-align: center;
        font-size: 1.1em;
        color: #333;
    }

    .error-diagnosis-section h2 {
        color: #e65100; /* Laranja mais escuro */
        margin-bottom: 20px;
        font-size: 1.8em;
    }

    .error-diagnosis-section ul {
        list-style: none; /* Remove marcadores de lista */
        padding: 0;
        margin: 0;
    }

    .error-diagnosis-section li {
        background-color: #ff9800; /* Laranja */
        color: white;
        padding: 8px 15px;
        margin: 8px 0;
        border-radius: 5px;
        display: inline-block; /* Para que os itens fiquem lado a lado */
        margin-right: 10px;
        font-weight: bold;
    }
    .error-diagnosis-section li:last-child {
        margin-right: 0;
    }
 .card-bloco {
      border: 1px solid #ddd;
      border-radius: 6px;
      padding: 10px;
      background: #fff;
      margin-bottom: 20px;
      box-shadow: 0 1px 3px rgba(0,0,0,0.05);
    }
  </style>
</head>
<body>
  <div class="quiz-container">
    <h1 style="text-align:center; margin-bottom: 30px;">Simulado de Módulo 04</h1>
    <div class="card-bloco" id="quiz"></div>
    <button class="submit-btn" id="verifyAnswersBtn">Verificar Respostas</button>

    <button class="generate-questions-btn submit-btn" id="generateNewQuestionsBtn" style="display:none;">
      Gerar Novas Perguntas
    </button>

    <div class="results card-bloco" id="results"></div>
    <div id="statusMessage" style="text-align: center; margin-top: 10px; font-weight: bold; color: #007bff;"></div>

    <div class="error-diagnosis-section card-bloco" id="errorDiagnosis">
      <h2>Diagnóstico de Erros</h2>
      <p>Parece que você precisa revisar os seguintes assuntos:</p>
      <ul id="topicsToReview"></ul>
    </div>

    <div class="generated-questions-section card-bloco" id="generatedQuestionsSection" style="display:none;">
      <h2>Novas Perguntas Geradas</h2>
      <div id="newQuestionsContent"></div>
    </div>
  </div>
  
  <button class="error-nav-btn" id="errorNavBtn" style="display:none;">
    <span class="arrow-icon"></span>
    <span class="button-text"></span>
  </button>

  <script>
    const quizContainer = document.getElementById("quiz");
    const resultsContainer = document.getElementById("results");
    const errorNavBtn = document.getElementById("errorNavBtn");
    const arrowIcon = errorNavBtn.querySelector(".arrow-icon");
    const buttonText = errorNavBtn.querySelector(".button-text");
    const errorDiagnosisSection = document.getElementById("errorDiagnosis");
    const topicsToReviewList = document.getElementById("topicsToReview");
    const generateNewQuestionsBtn = document.getElementById("generateNewQuestionsBtn");
    const generatedQuestionsSection = document.getElementById("generatedQuestionsSection");
    const newQuestionsContent = document.getElementById("newQuestionsContent");
    const statusMessage = document.getElementById("statusMessage");

    let wrongQuestionIndices = [];
    let errorCountByTopic = {};
    let totalAnsweredQuestionsByTopic = {};
    let currentWrongQuestionIndex = -1;
    let hasErrors = false;
    let isShowingErrors = false;
    let isShowingDiagnosis = false;

    // Inicializa a visibilidade das seções no carregamento
    errorDiagnosisSection.style.display = 'none';
    topicsToReviewList.innerHTML = '';
    statusMessage.textContent = '';

    const questions = [     {       question: "1. Qual a principal função da água no contexto das reações bioquímicas do organismo?",       options: [         "a) Atuar como uma molécula apolar que facilita a dissolução de lipídeos.",         "b) Constituir o meio onde as reações bioquímicas ocorrem.",         "c) Fornecer energia direta para os processos anabólicos.",         "d) Participar como reagente principal na síntese de ATP.",       ],       correctAnswer: "b) Constituir o meio onde as reações bioquímicas ocorrem.",       comment: "A água é uma molécula polar que atua como um solvente universal no organismo, permitindo que as reações bioquímicas aconteçam em meio aquoso. A alternativa 'a' está incorreta pois a água é polar. As alternativas 'c' e 'd' estão incorretas, pois a principal molécula de energia é o ATP, e não a água diretamente.",       topic: "Bioquímica da Água e Solventes",     },     {       question: "2. Como são classificados os nutrientes que o corpo precisa em grandes quantidades?",       options: [         "a) Micronutrientes.",         "b) Vitaminas.",         "c) Macronutrientes.",         "d) Sais minerais.",       ],       correctAnswer: "c) Macronutrientes.",       comment: "Os macronutrientes são os nutrientes que o organismo necessita em maiores quantidades para suas funções energéticas e estruturais, incluindo carboidratos, proteínas e lipídeos. Os micronutrientes, como vitaminas e sais minerais, são necessários em quantidades menores.",       topic: "Macronutrientes e Micronutrientes",     },     {       question: "3. Qual das seguintes lipoproteínas é responsável por transportar o colesterol dos tecidos periféricos de volta para o fígado?",       options: [         "a) VLDL (Lipoproteína de muito baixa densidade).",         "b) LDL (Lipoproteína de baixa densidade).",         "c) Quilomícron.",         "d) HDL (Lipoproteína de alta densidade).",       ],       correctAnswer: "d) HDL (Lipoproteína de alta densidade).",       comment: "A HDL, conhecida como 'bom colesterol', tem a função de realizar o transporte reverso do colesterol, retirando o excesso dos tecidos e levando-o para o fígado para ser metabolizado ou excretado. A LDL transporta colesterol para as células, a VLDL transporta triglicerídeos do fígado, e os quilomícrons transportam lipídeos da dieta.",       topic: "Metabolismo de Lipoproteínas",     },     {       question: "4. A digestão de carboidratos complexos como o amido inicia-se em qual parte do sistema digestório?",       options: [         "a) Estômago.",         "b) Intestino delgado.",         "c) Boca.",         "d) Fígado.",       ],       correctAnswer: "c) Boca.",       comment: "A digestão do amido começa na boca pela ação da enzima amilase salivar (ou ptialina), que quebra as ligações glicosídicas do polissacarídeo. No estômago, a acidez inativa essa enzima, e o processo é retomado no intestino delgado pela amilase pancreática.",       topic: "Digestão de Carboidratos",     },     {       question: "5. Histologicamente, qual tipo de epitélio reveste a mucosa do esôfago?",       options: [         "a) Epitélio simples cilíndrico.",         "b) Epitélio de transição.",         "c) Epitélio estratificado pavimentoso não queratinizado.",         "d) Epitélio pseudoestratificado cilíndrico.",       ],       correctAnswer: "c) Epitélio estratificado pavimentoso não queratinizado.",       comment: "A mucosa do esôfago é revestida por um epitélio estratificado pavimentoso não queratinizado, que oferece proteção contra o atrito causado pela passagem do bolo alimentar.",       topic: "Histologia do Esôfago",     },     {       question: "6. No processo da glicólise, uma molécula de glicose é convertida em:",       options: [         "a) Uma molécula de acetil-CoA.",         "b) Duas moléculas de piruvato.",         "c) Uma molécula de lactato.",         "d) Duas moléculas de oxaloacetato.",       ],       correctAnswer: "b) Duas moléculas de piruvato.",       comment: "A glicólise é a via metabólica que ocorre no citosol e degrada uma molécula de glicose (com 6 carbonos) em duas moléculas de piruvato (com 3 carbonos cada), com uma produção líquida de 2 ATP e 2 NADH.",       topic: "Glicólise",     },     {       question: "7. Onde ocorre o Ciclo do Ácido Cítrico (Ciclo de Krebs)?",       options: [         "a) No citosol da célula.",         "b) Na membrana interna da mitocôndria.",         "c) Na matriz mitocondrial.",         "d) No retículo endoplasmático.",       ],       correctAnswer: "c) Na matriz mitocondrial.",       comment: "O Ciclo de Krebs, uma etapa central da respiração celular, ocorre na matriz mitocondrial, que é o compartimento interno da mitocôndria onde se encontram as enzimas necessárias para as reações do ciclo.",       topic: "Ciclo de Krebs",     },     {       question: "8. Qual é a principal função da bile, produzida pelo fígado, no processo digestório?",       options: [         "a) Digerir quimicamente as proteínas.",         "b) Neutralizar o pH do estômago.",         "c) Emulsificar gorduras no intestino delgado.",         "d) Absorver carboidratos.",       ],       correctAnswer: "c) Emulsificar gorduras no intestino delgado.",       comment: "A bile, secretada pelo fígado e armazenada na vesícula biliar, atua como um emulsificante. Seus sais biliares quebram as grandes gotas de gordura em gotículas menores, aumentando a área de superfície para a ação das lipases pancreáticas.",       topic: "Fisiologia do Fígado e Bile",     },     {       question: "9. As glândulas salivares parótidas são classificadas, quanto ao tipo de secreção, como:",       options: [         "a) Exclusivamente mucosas.",         "b) Mistas, com predomínio de células mucosas.",         "c) Exclusivamente serosas.",         "d) Mistas, com predomínio de células serosas.",       ],       correctAnswer: "c) Exclusivamente serosas.",       comment: "A glândula parótida é uma glândula acinosa cuja porção secretora é composta exclusivamente por células serosas, que produzem uma secreção fluida rica em proteínas, como a amilase.",       topic: "Histologia das Glândulas Salivares",     },     {       question: "10. Qual hormônio, produzido pelas células beta do pâncreas, é responsável por promover a entrada de glicose nas células?",       options: [         "a) Glucagon.",         "b) Somatostatina.",         "c) Insulina.",         "d) Grelina.",       ],       correctAnswer: "c) Insulina.",       comment: "A insulina, secretada pelas células beta das ilhotas de Langerhans no pâncreas, é o principal hormônio anabólico que promove a captação de glicose pelas células musculares e adipócitos, reduzindo os níveis de glicose no sangue.",       topic: "Pâncreas Endócrino e Insulina",     },     {       question: "11. A quebra de triglicerídeos armazenados no tecido adiposo em ácidos graxos e glicerol é denominada:",       options: [         "a) Glicogênese.",         "b) Lipogênese.",         "c) Lipólise.",         "d) Gliconeogênese.",       ],       correctAnswer: "c) Lipólise.",       comment: "A lipólise é o processo de hidrólise (quebra) dos triglicerídeos armazenados nos adipócitos, liberando ácidos graxos e glicerol na corrente sanguínea para serem utilizados como fonte de energia por outros tecidos.",       topic: "Metabolismo de Lipídios: Lipólise",     },     {       question: "12. Na organização histológica do fígado, a 'Tríade Portal' ou 'Espaço Porta' é tipicamente composta por:",       options: [         "a) Veia centrolobular, capilar sinusoide e um hepatócito.",         "b) Ramo da artéria hepática, ramo da veia porta e ducto biliar.",         "c) Ducto pancreático, artéria mesentérica e veia cava.",         "d) Capilar linfático, nervo e ducto coletor.",       ],       correctAnswer: "b) Ramo da artéria hepática, ramo da veia porta e ducto biliar.",       comment: "O espaço porta (ou tríade portal) é uma estrutura encontrada nas extremidades dos lóbulos hepáticos clássicos e contém um ramo da artéria hepática (trazendo sangue oxigenado), um ramo da veia porta (trazendo sangue rico em nutrientes) e um ducto biliar (drenando a bile).",       topic: "Histologia do Fígado",     },     {       question: "13. A etapa final da respiração celular, onde a maior parte do ATP é produzida através da fosforilação oxidativa, é conhecida como:",       options: [         "a) Glicólise.",         "b) Ciclo de Krebs.",         "c) Fermentação lática.",         "d) Cadeia transportadora de elétrons.",       ],       correctAnswer: "d) Cadeia transportadora de elétrons.",       comment: "A cadeia transportadora de elétrons, localizada na membrana interna da mitocôndria, utiliza a energia dos elétrons transportados por NADH e FADH2 para bombear prótons, criando um gradiente eletroquímico que impulsiona a síntese de ATP pela ATP sintase.",       topic: "Cadeia Respiratória e Fosforilação Oxidativa",     },     {       question: "14. Qual a característica histológica principal do tecido adiposo multilocular (marrom)?",       options: [         "a) Células com uma única e grande gotícula de gordura.",         "b) Células com citoplasma contendo várias gotículas lipídicas e muitas mitocôndrias.",         "c) Ausência de vascularização sanguínea.",         "d) Núcleo celular sempre localizado na periferia da célula.",       ],       correctAnswer: "b) Células com citoplasma contendo várias gotículas lipídicas e muitas mitocôndrias.",       comment: "O tecido adiposo multilocular (ou pardo/marrom) é caracterizado por adipócitos que contêm múltiplas gotículas de lipídios e um número elevado de mitocôndrias, o que está relacionado à sua principal função de termogênese. O núcleo é geralmente esférico e centralizado.",       topic: "Histologia do Tecido Adiposo",     },     {       question: "15. O excesso de amônia, um produto tóxico do metabolismo de aminoácidos, é convertido em uma substância menos tóxica no fígado através do:",       options: [         "a) Ciclo de Cori.",         "b) Ciclo da ureia.",         "c) Ciclo de Krebs.",         "d) Glicólise.",       ],       correctAnswer: "b) Ciclo da ureia.",       comment: "O ciclo da ureia é uma via metabólica que ocorre primariamente nos hepatócitos e tem como função converter a amônia, altamente tóxica, em ureia, um composto menos tóxico que pode ser excretado com segurança pelos rins na urina.",       topic: "Ciclo da Ureia",     },     {       question: "16. No intestino delgado, a absorção de aminoácidos para o interior dos enterócitos ocorre principalmente por:",       options: [         "a) Difusão simples através da membrana.",         "b) Endocitose.",         "c) Cotransporte ativo com o íon sódio (Na+).",         "d) Osmose.",       ],       correctAnswer: "c) Cotransporte ativo com o íon sódio (Na+).",       comment: "A maioria dos aminoácidos é absorvida pelas células intestinais (enterócitos) através de sistemas de transporte ativo secundário, que utilizam o gradiente de concentração do íon sódio para impulsionar a entrada do aminoácido para dentro da célula.",       topic: "Absorção de Proteínas",     },     {       question: "17. Qual órgão do sistema digestório é responsável pela produção de enzimas como tripsina e quimotripsina, essenciais para a digestão de proteínas?",       options: [         "a) Fígado.",         "b) Estômago.",         "c) Pâncreas.",         "d) Vesícula biliar.",       ],       correctAnswer: "c) Pâncreas.",       comment: "A porção exócrina do pâncreas produz o suco pancreático, que é rico em diversas enzimas digestivas, incluindo as proteases tripsinogênio e quimiotripsinogênio (precursores da tripsina e quimotripsina), que são liberadas no duodeno para digerir proteínas.",       topic: "Fisiologia do Pâncreas Exócrino",     },     {       question: "18. A camada muscular externa da parede da maior parte do trato gastrointestinal é tipicamente organizada em:",       options: [         "a) Uma única camada de músculo liso longitudinal.",         "b) Uma camada circular interna e uma camada longitudinal externa de músculo liso.",         "c) Uma camada oblíqua interna e uma camada circular externa.",         "d) Três camadas de músculo esquelético.",       ],       correctAnswer: "b) Uma camada circular interna e uma camada longitudinal externa de músculo liso.",       comment: "A organização padrão da camada muscular externa ao longo do esôfago, intestino delgado e grosso consiste em uma camada interna com fibras musculares lisas dispostas circularmente e uma camada externa com fibras dispostas longitudinalmente. Essa disposição permite os movimentos peristálticos.",       topic: "Histologia Geral do Trato Digestório",     },     {       question: "19. A síntese de glicose a partir de precursores não glicídicos, como lactato, glicerol e aminoácidos, é chamada de:",       options: [         "a) Glicogenólise.",         "b) Glicólise.",         "c) Gliconeogênese.",         "d) Glicogênese.",       ],       correctAnswer: "c) Gliconeogênese.",       comment: "A gliconeogênese (ou neoglicogênese) é a via metabólica que sintetiza glicose a partir de compostos que não são carboidratos. Ocorre predominantemente no fígado e é crucial para manter a glicemia durante períodos de jejum.",       topic: "Gliconeogênese",     },     {       question: "20. A absorção de lipídios da dieta no intestino delgado leva à formação de qual tipo de lipoproteína dentro dos enterócitos?",       options: [         "a) HDL.",         "b) VLDL.",         "c) LDL.",         "d) Quilomícrons.",       ],       correctAnswer: "d) Quilomícrons.",       comment: "Após a absorção de monoglicerídeos e ácidos graxos, os enterócitos os remontam em triglicerídeos. Estes são então empacotados, juntamente com colesterol e proteínas, para formar grandes partículas lipoproteicas chamadas quilomícrons, que são exportadas para os vasos linfáticos.",       topic: "Absorção de Lipídios e Formação de Quilomícrons",     },     {       question: "21. Qual estrutura anatômica é uma expansão do peritônio que conecta o estômago a outros órgãos abdominais?",       options: [         "a) Mesentério.",         "b) Omento.",         "c) Ligamento falciforme.",         "d) Fáscia de Toldt.",       ],       correctAnswer: "b) Omento.",       comment: "Os omentos (maior e menor) são dobras de peritônio que se estendem do estômago e da porção proximal do duodeno para órgãos adjacentes. O omento maior, por exemplo, pende da curvatura maior do estômago.",       topic: "Anatomia do Peritônio",     },     {       question: "22. A glândula sublingual, em sua composição histológica, apresenta:",       options: [         "a) Apenas ácinos serosos.",         "b) Predomínio de ácinos serosos sobre os mucosos.",         "c) Predomínio de células mucosas organizadas em túbulos.",         "d) Apenas ductos intercalares, sem porção secretora.",       ],       correctAnswer: "c) Predomínio de células mucosas organizadas em túbulos.",       comment: "A glândula sublingual é uma glândula mista (tubuloacinosa) com um claro predomínio da porção secretora mucosa. As células serosas presentes geralmente se organizam em semiluas na periferia dos túbulos mucosos.",       topic: "Histologia das Glândulas Salivares",     },     {       question: "23. O que é o Ciclo de Cori?",       options: [         "a) A via de conversão de amônia em ureia no fígado.",         "b) O ciclo metabólico onde o lactato produzido no músculo é convertido em glicose no fígado.",         "c) A via de oxidação de ácidos graxos na mitocôndria.",         "d) O processo de síntese de glicogênio a partir da glicose.",       ],       correctAnswer: "b) O ciclo metabólico onde o lactato produzido no músculo é convertido em glicose no fígado.",       comment: "O Ciclo de Cori descreve a inter-relação metabólica entre o músculo e o fígado. Durante o exercício anaeróbico, o músculo produz lactato via fermentação. O lactato é transportado pelo sangue até o fígado, onde é usado como substrato para a gliconeogênese, produzindo glicose que pode retornar ao músculo.",       topic: "Ciclo de Cori",     },     {       question: "24. O processo pelo qual as células utilizam a informação de um gene no DNA para sintetizar um produto funcional, como uma proteína, é chamado de:",       options: [         "a) Replicação do DNA.",         "b) Síntese proteica.",         "c) Glicólise.",         "d) Lipólise.",       ],       correctAnswer: "b) Síntese proteica.",       comment: "A síntese de proteínas é o processo fundamental em que os aminoácidos são unidos por ligações peptídicas nos ribossomos para formar novas proteínas. Este processo é essencial para a construção de tecidos e para inúmeras funções celulares.",       topic: "Síntese Proteica",     },     {       question: "25. Qual das seguintes enzimas digestivas é ativada pelo baixo pH do ambiente estomacal?",       options: [         "a) Amilase salivar.",         "b) Tripsina.",         "c) Pepsina.",         "d) Lactase.",       ],       correctAnswer: "c) Pepsina.",       comment: "No estômago, o ácido clorídrico (HCl) não só desnatura as proteínas, mas também ativa o pepsinogênio (uma proenzima) convertendo-o em pepsina, a protease ativa que inicia a digestão de proteínas em um ambiente altamente ácido.",       topic: "Digestão de Proteínas no Estômago",     },     {       question: "26. As células de Kupffer, encontradas nos sinusoides hepáticos, são especializadas em:",       options: [         "a) Armazenar vitamina A.",         "b) Sintetizar bile.",         "c) Fagocitose.",         "d) Produzir albumina.",       ],       correctAnswer: "c) Fagocitose.",       comment: "As células de Kupffer são macrófagos residentes localizados na parede dos sinusoides hepáticos. Sua principal função é fagocitária, sendo responsáveis por metabolizar hemácias velhas, digerir hemoglobina e eliminar bactérias e outros patógenos da circulação portal.",       topic: "Histologia do Fígado: Células de Kupffer",     },     {       question: "27. Durante a oxidação de um ácido graxo na mitocôndria (beta-oxidação), qual molécula é produzida repetidamente a cada ciclo?",       options: [         "a) Piruvato.",         "b) Glicose.",         "c) Acetil-CoA.",         "d) Lactato.",       ],       correctAnswer: "c) Acetil-CoA.",       comment: "A beta-oxidação é um processo cíclico que ocorre na matriz mitocondrial e degrada os ácidos graxos. A cada volta do ciclo, um fragmento de dois carbonos é removido da cadeia do ácido graxo na forma de acetil-CoA, que pode então entrar no Ciclo de Krebs para gerar energia.",       topic: "Metabolismo de Lipídios: Beta-Oxidação",     },     {       question: "28. A glândula submandibular é classificada como uma glândula mista. Qual tipo de célula secretora predomina nela?",       options: [         "a) Células mucosas.",         "b) Células serosas.",         "c) Células caliciformes.",         "d) Células de Paneth.",       ],       correctAnswer: "b) Células serosas.",       comment: "A glândula submandibular (ou submaxilar) é uma glândula tubuloacinosa mista, mas com um predomínio de células serosas, que se organizam tanto em ácinos quanto em semiluas. As células mucosas também estão presentes, mas em menor quantidade.",       topic: "Histologia das Glândulas Salivares",     },     {       question: "29. Qual dos seguintes carboidratos é um monossacarídeo?",       options: [         "a) Sacarose.",         "b) Lactose.",         "c) Amido.",         "d) Glicose.",       ],       correctAnswer: "d) Glicose.",       comment: "A glicose é um monossacarídeo, a unidade mais básica dos carboidratos. A sacarose e a lactose são dissacarídeos (formados por duas unidades de monossacarídeos), e o amido é um polissacarídeo (formado por longas cadeias de glicose).",       topic: "Classificação de Carboidratos",     },     {       question: "30. A estrutura primária de uma proteína é determinada pela:",       options: [         "a) Sua forma tridimensional.",         "b) Interação entre diferentes cadeias polipeptídicas.",         "c) Sequência dos aminoácidos na cadeia peptídica.",         "d) Presença de grupos prostéticos como o heme.",       ],       correctAnswer: "c) Sequência dos aminoácidos na cadeia peptídica.",       comment: "A estrutura primária de uma proteína é a sua característica mais fundamental, definida pela sequência linear e única dos aminoácidos que compõem a cadeia polipeptídica. Essa sequência dita como a proteína se dobrará para formar suas estruturas secundária, terciária e quaternária.",       topic: "Estrutura de Proteínas",     },     {       question: "31. No pâncreas exócrino, as células centroacinosas são responsáveis pela secreção de:",       options: [         "a) Enzimas digestivas como a amilase.",         "b) Hormônios como a insulina.",         "c) Um fluido rico em bicarbonato.",         "d) Muco para lubrificação.",       ],       correctAnswer: "c) Um fluido rico em bicarbonato.",       comment: "As células centroacinosas, localizadas no início dos ductos intercalares, no centro dos ácinos pancreáticos, secretam um fluido aquoso rico em bicarbonato. Essa secreção é fundamental para neutralizar a acidez do quimo proveniente do estômago.",       topic: "Histologia do Pâncreas Exócrino",     },     {       question: "32. Qual a principal função do tecido adiposo unilocular (branco)?",       options: [         "a) Geração de calor (termogênese).",         "b) Reserva de energia, isolamento térmico e proteção mecânica.",         "c) Produção de células sanguíneas.",         "d) Síntese de hormônios esteroides.",       ],       correctAnswer: "b) Reserva de energia, isolamento térmico e proteção mecânica.",       comment: "O tecido adiposo unilocular, o tipo mais comum no corpo humano adulto, tem múltiplas funções, incluindo ser o principal reservatório de energia na forma de triglicerídeos, atuar como isolante térmico, proteger órgãos contra choques mecânicos e preencher espaços.",       topic: "Tecido Adiposo Unilocular",     },     {       question: "33. Onde está localizado o plexo nervoso mioentérico (de Auerbach)?",       options: [         "a) Na camada mucosa.",         "b) Na camada submucosa.",         "c) Entre as camadas musculares circular e longitudinal da parede do trato digestório.",         "d) Na camada serosa.",       ],       correctAnswer: "c) Entre as camadas musculares circular e longitudinal da parede do trato digestório.",       comment: "O plexo mioentérico de Auerbach, um componente do sistema nervoso entérico, está situado entre as camadas musculares circular interna e longitudinal externa da túnica muscular. Ele é responsável por regular a motilidade gastrointestinal.",       topic: "Sistema Nervoso Entérico",     },     {       question: "34. Em condições de jejum prolongado ou diabetes não controlado, o fígado produz corpos cetônicos a partir de qual molécula?",       options: [         "a) Glicose.",         "b) Acetil-CoA.",         "c) Piruvato.",         "d) Alanina.",       ],       correctAnswer: "b) Acetil-CoA.",       comment: "Quando há um excesso de oxidação de ácidos graxos e o Ciclo de Krebs está sobrecarregado, o fígado converte o excesso de acetil-CoA em corpos cetônicos (acetoacetato, beta-hidroxibutirato e acetona). Eles servem como fonte de energia alternativa para tecidos extra-hepáticos.",       topic: "Cetogênese",     },     {       question: "35. A quebra de glicogênio para liberar glicose é um processo chamado:",       options: [         "a) Glicogênese.",         "b) Glicogenólise.",         "c) Glicólise.",         "d) Gliconeogênese.",       ],       correctAnswer: "b) Glicogenólise.",       comment: "A glicogenólise é a via catabólica que consiste na degradação do glicogênio armazenado (principalmente no fígado e músculos) para liberar moléculas de glicose-6-fosfato (no músculo) ou glicose livre (no fígado), disponibilizando energia rapidamente.",       topic: "Metabolismo do Glicogênio: Glicogenólise",     },     {       question: "36. Qual é o papel da enzima lipase lipoproteica (LPL)?",       options: [         "a) Digerir triglicerídeos no estômago.",         "b) Hidrolisar triglicerídeos dos quilomícrons e VLDL na circulação.",         "c) Sintetizar lipoproteínas no fígado.",         "d) Transportar colesterol para fora das células.",       ],       correctAnswer: "b) Hidrolisar triglicerídeos dos quilomícrons e VLDL na circulação.",       comment: "A lipase lipoproteica (LPL) é uma enzima localizada na superfície endotelial dos capilares, especialmente nos tecidos adiposo e muscular. Sua função é hidrolisar os triglicerídeos contidos nos quilomícrons e VLDL, liberando ácidos graxos que podem ser captados pelas células para uso ou armazenamento.",       topic: "Metabolismo de Lipoproteínas",     },     {       question: "37. Na histologia da vesícula biliar, qual camada está ausente quando comparada com o resto do trato gastrointestinal?",       options: [         "a) Mucosa.",         "b) Muscular da mucosa e submucosa.",         "c) Muscular externa.",         "d) Serosa/Adventícia.",       ],       correctAnswer: "b) Muscular da mucosa e submucosa.",       comment: "A parede da vesícula biliar é composta por uma camada mucosa (epitélio simples colunar e lâmina própria), uma camada muscular de músculo liso e uma camada adventícia ou serosa. Ela não possui as camadas muscular da mucosa e submucosa, que são típicas de outros órgãos do tubo digestório.",       topic: "Histologia da Vesícula Biliar",     },     {       question: "38. O aumento das concentrações plasmáticas de qual lipoproteína está mais associado ao desenvolvimento de aterosclerose?",       options: [         "a) HDL.",         "b) Quilomícrons.",         "c) LDL.",         "d) VLDL.",       ],       correctAnswer: "c) LDL.",       comment: "Níveis elevados de LDL ('mau colesterol') no plasma são um principal fator de risco para a aterosclerose. O excesso de LDL pode ser oxidado e captado por macrófagos na parede arterial, levando à formação de células espumosas e ao desenvolvimento de placas ateroscleróticas.",       topic: "Dislipidemia e Aterosclerose",     },     {       question: "39. O que caracteriza uma substância anfifílica ou anfipática?",       options: [         "a) Ser totalmente solúvel em água.",         "b) Ser totalmente insolúvel em água.",         "c) Possuir uma parte polar (hidrofílica) e uma parte apolar (hidrofóbica) na mesma molécula.",         "d) Interagir apenas com outras moléculas apolares.",       ],       correctAnswer: "c) Possuir uma parte polar (hidrofílica) e uma parte apolar (hidrofóbica) na mesma molécula.",       comment: "Uma substância anfifílica (ou anfipática) tem uma natureza dupla. Ela possui uma região polar ('cabeça') que interage com a água (hidrofílica) e uma região apolar ('cauda') que a repele (hidrofóbica). Essa propriedade permite a formação de estruturas como micelas e bicamadas lipídicas.",       topic: "Bioquímica: Polaridade e Solubilidade",     },     {       question: "40. O omento maior é uma grande prega peritoneal que se estende inferiormente a partir de qual estrutura?",       options: [         "a) Fígado.",         "b) Curvatura maior do estômago.",         "c) Colo transverso.",         "d) Pâncreas.",       ],       correctAnswer: "b) Curvatura maior do estômago.",       comment: "O omento maior é uma estrutura peritoneal proeminente que se assemelha a um avental e está suspenso a partir da curvatura maior do estômago, cobrindo as alças intestinais.",       topic: "Anatomia do Abdome",     },     {       question: "41. Durante a digestão, as enzimas sacarase, lactase e maltase são encontradas:",       options: [         "a) Na saliva.",         "b) No suco gástrico.",         "c) No suco pancreático.",         "d) Na borda em escova dos enterócitos.",       ],       correctAnswer: "d) Na borda em escova dos enterócitos.",       comment: "Sacarase, lactase e maltase são dissacaridases, enzimas que quebram dissacarídeos em monossacarídeos. Elas estão localizadas na membrana apical (borda em escova) das células epiteliais do intestino delgado (enterócitos), onde ocorre a etapa final da digestão de carboidratos.",       topic: "Digestão de Carboidratos",     },     {       question: "42. No processo de transaminação, o que é transferido de um aminoácido para um cetoácido?",       options: [         "a) Um grupo carboxila.",         "b) Um grupo amino.",         "c) Uma cadeia lateral.",         "d) Um átomo de hidrogênio.",       ],       correctAnswer: "b) Um grupo amino.",       comment: "A transaminação é uma reação chave no metabolismo de aminoácidos, catalisada por transaminases (aminotransferases). Nela, o grupo α-amino de um aminoácido é transferido para o carbono α de um cetoácido, formando um novo aminoácido e um novo cetoácido.",       topic: "Metabolismo de Aminoácidos: Transaminação",     },     {       question: "43. O tecido adiposo multilocular (marrom) é abundante em recém-nascidos e sua principal função é:",       options: [         "a) Armazenar vitaminas lipossolúveis.",         "b) Produzir calor (termogênese sem tremores).",         "c) Servir como principal reserva de energia a longo prazo.",         "d) Sintetizar hormônios para o crescimento.",       ],       correctAnswer: "b) Produzir calor (termogênese sem tremores).",       comment: "O tecido adiposo marrom é especializado na produção de calor. Suas mitocôndrias possuem a proteína desacopladora (termogenina) que desvia o gradiente de prótons da síntese de ATP para gerar calor. Isso é vital para recém-nascidos, que têm uma maior relação superfície/volume e perdem calor mais rapidamente.",       topic: "Tecido Adiposo Multilocular",     },     {       question: "44. Qual é o destino do glicerol liberado durante a lipólise do tecido adiposo?",       options: [         "a) É convertido em acetil-CoA diretamente nos adipócitos.",         "b) É transportado para o fígado, onde pode entrar na glicólise ou na gliconeogênese.",         "c) É excretado diretamente pelos rins.",         "d) É utilizado para a síntese de proteínas no músculo.",       ],       correctAnswer: "b) É transportado para o fígado, onde pode entrar na glicólise ou na gliconeogênese.",       comment: "O glicerol liberado pela quebra dos triglicerídeos nos adipócitos não pode ser metabolizado ali. Ele é solúvel no plasma e transportado até o fígado. No fígado, ele pode ser fosforilado e convertido em di-hidroxiacetona fosfato, um intermediário tanto da via glicolítica quanto da gliconeogênica.",       topic: "Metabolismo do Glicerol",     },     {       question: "45. As invaginações do epitélio de revestimento do estômago, para onde se abrem as glândulas gástricas, são chamadas de:",       options: [         "a) Vilosidades.",         "b) Criptas de Lieberkühn.",         "c) Fossetas ou fovéolas gástricas.",         "d) Pregas circulares.",       ],       correctAnswer: "c) Fossetas ou fovéolas gástricas.",       comment: "A superfície da mucosa gástrica não é lisa; ela apresenta invaginações chamadas fossetas gástricas (ou fovéolas). É no fundo dessas fossetas que as glândulas gástricas tubulares desembocam sua secreção.",       topic: "Histologia do Estômago",     },     {       question: "46. Qual a consequência da desnaturação de uma proteína?",       options: [         "a) A quebra das ligações peptídicas.",         "b) A perda de sua estrutura tridimensional nativa e, consequentemente, de sua função biológica.",         "c) A remoção de seu grupo amino.",         "d) A sua polimerização em cadeias maiores.",       ],       correctAnswer: "b) A perda de sua estrutura tridimensional nativa e, consequentemente, de sua função biológica.",       comment: "A desnaturação é a perda da estrutura secundária, terciária e/ou quaternária de uma proteína, causada por agentes como calor, variações de pH ou solventes orgânicos. Isso não rompe as ligações peptídicas (estrutura primária), mas altera a conformação espacial da proteína, o que a torna funcionalmente inativa.",       topic: "Estrutura e Desnaturação de Proteínas",     },     {       question: "47. As células epiteliais do intestino delgado especializadas na absorção de nutrientes são os:",       options: [         "a) Enterócitos.",         "b) Células caliciformes.",         "c) Células de Paneth.",         "d) Células M.",       ],       correctAnswer: "a) Enterócitos.",       comment: "Os enterócitos são as células absortivas predominantes no epitélio do intestino delgado. Eles são caracterizados por possuírem microvilosidades em sua superfície apical (borda em escova), que aumentam drasticamente a área de superfície para a absorção de nutrientes.",       topic: "Histologia do Intestino Delgado",     },     {       question: "48. Qual das seguintes afirmações sobre a celulose é correta para o sistema digestório humano?",       options: [         "a) É um dissacarídeo facilmente digerido pela amilase.",         "b) É um polissacarídeo que não pode ser degradado por enzimas humanas.",         "c) Sua digestão se inicia no estômago pela ação da pepsina.",         "d) É absorvida na forma de glicose no intestino grosso.",       ],       correctAnswer: "b) É um polissacarídeo que não pode ser degradado por enzimas humanas.",       comment: "A celulose é um polissacarídeo estrutural de plantas, composto por unidades de glicose unidas por ligações glicosídicas do tipo beta-1,4. O sistema digestório humano não produz as enzimas (celulases) capazes de quebrar essas ligações, tornando a celulose não digerível. Ela funciona como fibra alimentar.",       topic: "Fibras Alimentares e Digestão",     },     {       question: "49. O ducto colédoco (ou biliar comum) é formado pela união de quais ductos?",       options: [         "a) Ducto pancreático principal e acessório.",         "b) Ducto hepático direito e esquerdo.",         "c) Ducto hepático comum e ducto cístico.",         "d) Ducto submandibular e ducto parotídeo.",       ],       correctAnswer: "c) Ducto hepático comum e ducto cístico.",       comment: "Os ductos hepáticos direito e esquerdo se unem para formar o ducto hepático comum. Este, por sua vez, se une ao ducto cístico (que vem da vesícula biliar) para formar o ducto colédoco, que transporta a bile até o duodeno.",       topic: "Anatomia das Vias Biliares",     },     {       question: "50. No metabolismo, reações de síntese de moléculas complexas a partir de moléculas mais simples são chamadas de:",       options: [         "a) Catabolismo.",         "b) Anabolismo.",         "c) Homeostase.",         "d) Hidrólise.",       ],       correctAnswer: "b) Anabolismo.",       comment: "O anabolismo compreende o conjunto de reações metabólicas de síntese ou construção, nas quais moléculas simples são unidas para formar macromoléculas complexas, como a síntese de proteínas a partir de aminoácidos. Esses processos geralmente consomem energia. O catabolismo, por outro lado, envolve reações de degradação.",       topic: "Conceitos de Metabolismo: Anabolismo e Catabolismo",     },     {       question: "51. Onde as células de Ito (células estreladas hepáticas) estão localizadas e qual sua principal função em estado quiescente?",       options: [         "a) Nos canalículos biliares; secretar bile.",         "b) Nos capilares sinusoides; função fagocitária.",         "c) No espaço de Disse; armazenar lipídios e vitamina A.",         "d) Na veia centrolobular; regular o fluxo sanguíneo.",       ],       correctAnswer: "c) No espaço de Disse; armazenar lipídios e vitamina A.",       comment: "As células de Ito estão localizadas no espaço perissinusoidal de Disse, entre os hepatócitos e as células endoteliais dos sinusoides. Sua função principal em condições normais é o armazenamento de retinoides (vitamina A) na forma de gotículas lipídicas.",       topic: "Histologia do Fígado: Células de Ito",     },     {       question: "52. Qual é a produção líquida de ATP na via glicolítica a partir de uma molécula de glicose?",       options: [         "a) 1 ATP.",         "b) 2 ATP.",         "c) 4 ATP.",         "d) 32 ATP.",       ],       correctAnswer: "b) 2 ATP.",       comment: "A glicólise tem duas fases: uma de investimento de energia e uma de pagamento. Na fase de investimento, 2 ATP são consumidos. Na fase de pagamento, 4 ATP são produzidos. Portanto, o saldo líquido da glicólise é de 2 ATP por molécula de glicose.",       topic: "Glicólise: Balanço Energético",     },     {       question: "53. As glândulas de Brunner são uma característica histológica distintiva de qual porção do intestino delgado?",       options: [         "a) Duodeno.",         "b) Jejuno.",         "c) Íleo.",         "d) Ceco.",       ],       correctAnswer: "a) Duodeno.",       comment: "As glândulas de Brunner (ou glândulas duodenais) são encontradas na camada submucosa do duodeno. Elas secretam um muco alcalino que ajuda a proteger a mucosa duodenal do quimo ácido vindo do estômago e a otimizar o pH para a ação das enzimas pancreáticas.",       topic: "Histologia do Duodeno",     },     {       question: "54. O neurotransmissor noradrenalina inicia a lipólise nos adipócitos ao ativar qual enzima?",       options: [         "a) Lipase lipoproteica.",         "b) Lipase gástrica.",         "c) Lipase sensível a hormônios (LSH).",         "d) Amilase pancreática.",       ],       correctAnswer: "c) Lipase sensível a hormônios (LSH).",       comment: "A liberação de noradrenalina pelo sistema nervoso simpático ativa receptores adrenérgicos no adipócito, que por sua vez, via AMPc, ativam a Lipase Sensível a Hormônios. Esta enzima é responsável por iniciar a hidrólise dos triglicerídeos armazenados dentro da célula adiposa.",       topic: "Regulação da Lipólise",     },     {       question: "55. O processo de formação de glicogênio a partir de moléculas de glicose é conhecido como:",       options: [         "a) Glicogenólise.",         "b) Gliconeogênese.",         "c) Glicólise.",         "d) Glicogênese.",       ],       correctAnswer: "d) Glicogênese.",       comment: "A glicogênese é a via anabólica para a síntese de glicogênio, que ocorre principalmente no fígado e nos músculos quando há excesso de glicose no sangue. A glicose é polimerizada para formar o glicogênio, que serve como uma forma de armazenamento de energia de curto prazo.",       topic: "Metabolismo do Glicogênio: Glicogênese",     },     {       question: "56. A estrutura anatômica que marca a transição entre o intestino delgado e o intestino grosso é:",       options: [         "a) O piloro.",         "b) O esfíncter de Oddi.",         "c) A papila ileal (com o óstio ileal).",         "d) A flexura duodenojejunal.",       ],       correctAnswer: "c) A papila ileal (com o óstio ileal).",       comment: "A papila ileal é uma projeção da porção terminal do íleo para dentro do ceco (a primeira porção do intestino grosso). No centro dessa papila está o óstio ileal, que funciona como uma válvula para regular a passagem do conteúdo intestinal e prevenir o refluxo do material do colo para o íleo.",       topic: "Anatomia do Intestino",     },     {       question: "57. Além dos hepatócitos, o fígado é revestido por uma cápsula de tecido conjuntivo. Qual o nome dessa cápsula?",       options: [         "a) Cápsula de Bowman.",         "b) Cápsula de Glisson.",         "c) Túnica albugínea.",         "d) Pericárdio fibroso.",       ],       correctAnswer: "b) Cápsula de Glisson.",       comment: "Embora não explicitamente nomeada como 'Cápsula de Glisson' nos roteiros de histologia fornecidos, a descrição de uma 'cápsula de tecido conjuntivo rico em fibras colágenas' que reveste as glândulas como parótida, sublingual e submandibular é análoga à estrutura que reveste o fígado, conhecida na anatomia e histologia geral como Cápsula de Glisson. O conceito de cápsula conjuntiva está presente nos materiais.",       topic: "Anatomia e Histologia do Fígado",     },     {       question: "58. O que acontece com os remanescentes de quilomícrons após entregarem a maior parte de seus triglicerídeos aos tecidos?",       options: [         "a) São convertidos em LDL na circulação.",         "b) São excretados pelos rins.",         "c) São captados e removidos pelo fígado.",         "d) São armazenados no baço.",       ],       correctAnswer: "c) São captados e removidos pelo fígado.",       comment: "Após a ação da lipase lipoproteica, os quilomícrons perdem a maior parte de seus triglicerídeos e se tornam 'remanescentes de quilomícrons', que são ricos em colesterol. Esses remanescentes circulam de volta para o fígado, onde são captados e metabolizados num processo mediado pela apoproteína E (apo E).",       topic: "Metabolismo de Quilomícrons",     },     {       question: "59. Qual a principal função das células caliciformes presentes no epitélio do trato digestório, especialmente no intestino grosso?",       options: [         "a) Absorver nutrientes.",         "b) Produzir e secretar muco.",         "c) Liberar hormônios.",         "d) Apresentar antígenos.",       ],       correctAnswer: "b) Produzir e secretar muco.",       comment: "As células caliciformes são glândulas unicelulares cuja principal função é a síntese e secreção de mucina, que se hidrata para formar o muco. O muco lubrifica e protege a superfície epitelial. Elas são encontradas no intestino delgado e são particularmente abundantes no intestino grosso.",       topic: "Histologia do Trato Digestório: Células Caliciformes",     },     {       question: "60. Em relação à solubilidade, uma substância hidrofóbica:",       options: [         "a) Dissolve-se facilmente em água.",         "b) Praticamente não interage com a água.",         "c) Possui alta afinidade por solventes polares.",         "d) Forma pontes de hidrogênio com a água.",       ],       correctAnswer: "b) Praticamente não interage com a água.",       comment: "Uma substância hidrofóbica ('que tem medo de água') é apolar e, por isso, não interage de forma significativa com as moléculas polares da água. A força de interação entre as moléculas de água é muito maior do que a interação entre a água e a molécula apolar. Substâncias hidrofóbicas tendem a se dissolver em solventes apolares, como o óleo.",       topic: "Bioquímica: Polaridade e Solubilidade",     },     {       question: "61. A porção endócrina do pâncreas, responsável pela produção de hormônios, é organizada em estruturas chamadas:",       options: [         "a) Ácinos pancreáticos.",         "b) Ductos intercalares.",         "c) Células centroacinosas.",         "d) Ilhotas de Langerhans.",       ],       correctAnswer: "d) Ilhotas de Langerhans.",       comment: "A porção endócrina do pâncreas é constituída por aglomerados de células endócrinas chamados Ilhotas de Langerhans. Essas ilhotas são dispersas por todo o tecido exócrino e são responsáveis por secretar hormônios como insulina e glucagon diretamente na corrente sanguínea.",       topic: "Histologia do Pâncreas Endócrino",     },     {       question: "62. Qual das seguintes afirmações sobre o ATP (adenosina trifosfato) está incorreta?",       options: [         "a) É utilizado como armazenador de energia.",         "b) A energia de sua hidrólise pode alimentar processos metabólicos.",         "c) O açúcar presente em sua estrutura é a glicose.",         "d) É sintetizado a partir de ADP e fosfato inorgânico (Pi).",       ],       correctAnswer: "c) O açúcar presente em sua estrutura é a glicose.",       comment: "A molécula de ATP é formada por uma base nitrogenada (adenina), um açúcar de cinco carbonos (pentose) e três grupos fosfato. O açúcar presente em sua estrutura é a ribose, e não a glicose. A glicose é o principal substrato para a produção de ATP, mas não faz parte de sua estrutura molecular.",       topic: "Bioquímica do ATP",     },     {       question: "63. O jejuno e o íleo são partes do:",       options: [         "a) Estômago.",         "b) Intestino grosso.",         "c) Intestino delgado.",         "d) Esôfago.",       ],       correctAnswer: "c) Intestino delgado.",       comment: "O intestino delgado é dividido em três porções: o duodeno (parte inicial), o jejuno (parte média) e o íleo (parte final). O roteiro de aula prática de anatomia lista o jejuno e o íleo como componentes do intestino delgado.",       topic: "Anatomia do Intestino Delgado",     },     {       question: "64. No estômago, as células parietais (ou oxínticas) são responsáveis pela secreção de:",       options: [         "a) Pepsinogênio e lipase gástrica.",         "b) Muco protetor.",         "c) Ácido clorídrico (HCl) e fator intrínseco.",         "d) Gastrina.",       ],       correctAnswer: "c) Ácido clorídrico (HCl) e fator intrínseco.",       comment: "As células parietais, que se coram de forma eosinofílica, são glândulas exócrinas especializadas do estômago que secretam ácido clorídrico, responsável pela acidez do suco gástrico, e o fator intrínseco, uma glicoproteína essencial para a absorção da vitamina B12.",       topic: "Histologia e Fisiologia Gástrica",     },     {       question: "65. O que são as tênias do colo?",       options: [         "a) As dobras internas da mucosa do intestino grosso.",         "b) Os apêndices gordurosos na superfície externa do colo.",         "c) Três faixas longitudinais espessas de músculo liso na parede do intestino grosso.",         "d) As saculações da parede do colo.",       ],       correctAnswer: "c) Três faixas longitudinais espessas de músculo liso na parede do intestino grosso.",       comment: "Diferente do resto do trato digestório onde a camada muscular longitudinal é contínua, no intestino grosso (exceto no reto e apêndice), ela está concentrada em três bandas espessas chamadas tênias do colo. A contração tônica dessas faixas é o que forma as saculações (haustros).",       topic: "Anatomia do Intestino Grosso",     },     {       question: "66. A fermentação lática ocorre em células musculares durante exercício intenso devido à falta de:",       options: [         "a) Glicose.",         "b) ATP.",         "c) Oxigênio.",         "d) Dióxido de carbono.",       ],       correctAnswer: "c) Oxigênio.",       comment: "Quando o suprimento de oxigênio para as células musculares é insuficiente para sustentar a respiração aeróbica durante um exercício vigoroso, as células recorrem à fermentação lática. Nesse processo, o piruvato da glicólise é convertido em lactato para regenerar o NAD+, permitindo que a glicólise continue a produzir ATP na ausência de oxigênio.",       topic: "Metabolismo Anaeróbico e Fermentação",     },     {       question: "67. As vilosidades e microvilosidades do intestino delgado têm como principal função:",       options: [         "a) Produzir enzimas digestivas.",         "b) Aumentar a área de superfície para absorção de nutrientes.",         "c) Mover o quimo ao longo do intestino.",         "d) Proteger o intestino contra patógenos.",       ],       correctAnswer: "b) Aumentar a área de superfície para absorção de nutrientes.",       comment: "As vilosidades são evaginações (projeções em forma de dedo) da mucosa, e as microvilosidades são projeções citoplasmáticas dos enterócitos. Juntamente com as pregas circulares, essas estruturas aumentam enormemente a área de superfície do intestino delgado, otimizando a absorção de nutrientes.",       topic: "Histologia e Fisiologia do Intestino Delgado",     },     {       question: "68. Qual dos seguintes não é considerado um macronutriente?",       options: [         "a) Carboidratos.",         "b) Lipídeos.",         "c) Proteínas.",         "d) Vitaminas.",       ],       correctAnswer: "d) Vitaminas.",       comment: "Os macronutrientes são carboidratos, proteínas e lipídeos. As vitaminas são classificadas como micronutrientes, pois são necessárias ao organismo em quantidades muito menores, embora sejam igualmente essenciais para a saúde.",       topic: "Nutrição: Macro e Micronutrientes",     },     {       question: "69. A conversão do excesso de glicose em gordura (ácidos graxos) é um processo conhecido como:",       options: [         "a) Gliconeogênese.",         "b) Lipólise.",         "c) Lipogênese.",         "d) Beta-oxidação.",       ],       correctAnswer: "c) Lipogênese.",       comment: "A lipogênese é a via metabólica que converte o excesso de carboidratos (e também de proteínas) em ácidos graxos, que são então esterificados com glicerol para formar triglicerídeos e armazenados no tecido adiposo. O processo converte acetil-CoA em ácidos graxos.",       topic: "Lipogênese",     },     {       question: "70. A vesícula biliar está anatomicamente localizada:",       options: [         "a) Na face diafragmática do fígado.",         "b) Na face visceral do fígado, entre o lobo direito e o lobo quadrado.",         "c) Posterior ao pâncreas.",         "d) Superior ao estômago.",       ],       correctAnswer: "b) Na face visceral do fígado, entre o lobo direito e o lobo quadrado.",       comment: "A vesícula biliar é um órgão em forma de pêra que se aninha na face visceral (inferior) do fígado. Ela está situada numa fossa entre o lobo hepático direito e o lobo quadrado.",       topic: "Anatomia do Fígado e Vesícula Biliar",     },     {       question: "71. As fibras alimentares, como a celulose, são benéficas para a saúde intestinal porque:",       options: [         "a) Fornecem uma grande quantidade de energia.",         "b) São a principal fonte de vitaminas.",         "c) Aumentam o volume fecal e facilitam a defecação.",         "d) São completamente absorvidas no intestino delgado.",       ],       correctAnswer: "c) Aumentam o volume fecal e facilitam a defecação.",       comment: "As fibras, especialmente as insolúveis, não são digeridas e passam pelo trato gastrointestinal relativamente intactas. Elas absorvem água, amolecendo as fezes e aumentando seu volume, o que ajuda a promover a regularidade intestinal e prevenir a constipação.",       topic: "Nutrição e Fibras Alimentares",     },     {       question: "72. Qual é a função da enzima fosfofrutoquinase (FFK) na via glicolítica?",       options: [         "a) É a enzima final que produz o piruvato.",         "b) É uma enzima reguladora chave que controla a velocidade da glicólise.",         "c) Converte a glicose em glicose-6-fosfato.",         "d) Participa da produção de NADH.",       ],       correctAnswer: "b) É uma enzima reguladora chave que controla a velocidade da glicólise.",       comment: "A fosfofrutoquinase-1 (FFK-1) catalisa a fosforilação da frutose-6-fosfato a frutose-1,6-bifosfato, um passo irreversível e o principal ponto de controle da glicólise. A atividade desta enzima é regulada por moléculas como ATP (que a inibe em altas concentrações) e AMP, ajustando o fluxo da via à necessidade energética da célula.",       topic: "Regulação da Glicólise",     },     {       question: "73. Qual das seguintes estruturas NÃO faz parte da boca?",       options: [         "a) Lábio superior.",         "b) Palato duro.",         "c) Ápice da língua.",         "d) Parte nasal da faringe.",       ],       correctAnswer: "d) Parte nasal da faringe.",       comment: "A parte nasal da faringe (nasofaringe) é a porção superior da faringe, localizada posteriormente à cavidade nasal e superior ao palato mole. Embora conectada, não é considerada uma estrutura da boca (cavidade oral).",       topic: "Anatomia da Cavidade Oral",     },     {       question: "74. O processo de 'turnover' proteico refere-se à:",       options: [         "a) Apenas a síntese de novas proteínas.",         "b) Apenas a degradação de proteínas.",         "c) O ciclo contínuo de quebra e síntese de proteínas nas células.",         "d) A conversão de proteínas em glicose.",       ],       correctAnswer: "c) O ciclo contínuo de quebra e síntese de proteínas nas células.",       comment: "O 'turnover' ou renovação proteica é um processo fisiológico normal e contínuo no qual as proteínas intracelulares são degradadas em seus aminoácidos constituintes e, ao mesmo tempo, novas proteínas são sintetizadas. Isso permite que a célula se adapte e mantenha a qualidade de seus componentes.",       topic: "Metabolismo de Proteínas: Turnover",     },     {       question: "75. O que são micelas no contexto da digestão de lipídeos?",       options: [         "a) Grandes gotas de gordura antes da digestão.",         "b) Agregados de ácidos graxos, monoglicerídeos e sais biliares que facilitam a absorção.",         "c) Lipoproteínas que transportam gordura no sangue.",         "d) Enzimas que digerem lipídeos.",       ],       correctAnswer: "b) Agregados de ácidos graxos, monoglicerídeos e sais biliares que facilitam a absorção.",       comment: "Após a hidrólise dos triglicerídeos, os produtos (ácidos graxos livres e monoglicerídeos) são insolúveis em água. Os sais biliares, sendo anfifílicos, se organizam em pequenas esferas chamadas micelas, com os produtos da digestão lipídica em seu interior. As micelas transportam esses lipídios através do ambiente aquoso do lúmen intestinal até a superfície dos enterócitos para absorção.",       topic: "Digestão e Absorção de Lipídios",     },     {       question: "76. A leptina é um hormônio produzido principalmente pelo tecido adiposo. Qual é sua principal função?",       options: [         "a) Estimular o apetite.",         "b) Regular o apetite e o gasto calórico, comunicando-se com o hipotálamo.",         "c) Aumentar o armazenamento de gordura nos adipócitos.",         "d) Diminuir a pressão arterial.",       ],       correctAnswer: "b) Regular o apetite e o gasto calórico, comunicando-se com o hipotálamo.",       comment: "A leptina funciona como um sinalizador de longo prazo das reservas de energia do corpo. Ela é secretada pelos adipócitos e atua no hipotálamo para suprimir o apetite e o gasto energético, ajudando a regular o peso corporal.",       topic: "Função Endócrina do Tecido Adiposo",     },     {       question: "77. Qual o papel da enteroquinase na digestão de proteínas?",       options: [         "a) Quebra as proteínas em peptídeos menores no estômago.",         "b) Ativa o pepsinogênio em pepsina.",         "c) Ativa o tripsinogênio em tripsina no duodeno.",         "d) É secretada pelo pâncreas para digerir dipeptídeos.",       ],       correctAnswer: "c) Ativa o tripsinogênio em tripsina no duodeno.",       comment: "A enteroquinase (ou enteropeptidase) é uma enzima localizada na borda em escova dos enterócitos do duodeno. Sua função crucial é iniciar a cascata de ativação das proteases pancreáticas, convertendo o tripsinogênio inativo em sua forma ativa, a tripsina. A tripsina, por sua vez, ativa as outras proenzimas pancreáticas.",       topic: "Digestão de Proteínas no Intestino",     },     {       question: "78. Histologicamente, as células principais ou zimogênicas do estômago são caracterizadas por:",       options: [         "a) Serem eosinofílicas e secretarem HCl.",         "b) Terem coloração pálida e secretarem muco.",         "c) Serem basofílicas e secretarem pepsinogênio.",         "d) Estarem localizadas apenas no piloro.",       ],       correctAnswer: "c) Serem basofílicas e secretarem pepsinogênio.",       comment: "As células principais (ou zimogênicas) são responsáveis pela produção de pepsinogênio. Elas possuem um retículo endoplasmático rugoso bem desenvolvido para a síntese proteica, o que confere uma basofilia ao seu citoplasma.",       topic: "Histologia do Estômago",     },     {       question: "79. A maior parte da absorção de nutrientes digeridos ocorre em qual segmento do trato gastrointestinal?",       options: [         "a) Estômago.",         "b) Intestino delgado.",         "c) Intestino grosso.",         "d) Esôfago.",       ],       correctAnswer: "b) Intestino delgado.",       comment: "O intestino delgado é o principal local para a digestão química final e a absorção da vasta maioria dos nutrientes (carboidratos, lipídios, proteínas, vitaminas, minerais e água), devido à sua grande área de superfície e à presença de enzimas e transportadores especializados.",       topic: "Fisiologia da Absorção",     },     {       question: "80. O colesterol é uma molécula lipídica vital para o corpo. Qual das seguintes NÃO é uma função do colesterol?",       options: [         "a) Ser um constituinte das membranas celulares.",         "b) Ser o precursor de ácidos biliares e hormônios esteroides.",         "c) Ser a principal molécula de armazenamento de energia nos adipócitos.",         "d) Participar da formação de moléculas de sinalização.",       ],       correctAnswer: "c) Ser a principal molécula de armazenamento de energia nos adipócitos.",       comment: "A principal molécula para o armazenamento de energia nos adipócitos e células musculares são os triglicerídeos, não o colesterol. O colesterol, embora essencial, desempenha funções estruturais e precursoras, sendo um componente vital das membranas celulares e o ponto de partida para a síntese de ácidos biliares, vitamina D e hormônios esteroides.",       topic: "Funções do Colesterol",     },     {       question: "81. O apêndice vermiforme é uma estrutura linfoide anexada a qual parte do intestino grosso?",       options: [         "a) Colo ascendente.",         "b) Colo sigmoide.",         "c) Reto.",         "d) Ceco.",       ],       correctAnswer: "d) Ceco.",       comment: "O apêndice vermiforme é um tubo de fundo cego, rico em tecido linfoide, que se origina da parede posteromedial do ceco, a porção inicial do intestino grosso.",       topic: "Anatomia do Intestino Grosso",     },     {       question: "82. A via das pentoses fosfato é uma rota metabólica alternativa para a glicose. Qual é uma de suas principais funções?",       options: [         "a) Produzir a maior parte do ATP da célula.",         "b) Produzir pentoses (como a ribose) para a síntese de nucleotídeos e NADPH.",         "c) Oxidar completamente a glicose a CO2 e água.",         "d) Converter piruvato em lactato.",       ],       correctAnswer: "b) Produzir pentoses (como a ribose) para a síntese de nucleotídeos e NADPH.",       comment: "A via das pentoses fosfato não tem como objetivo principal a produção de ATP. Suas funções primordiais são: (1) produzir NADPH, um agente redutor essencial para biossínteses (como de ácidos graxos) e para a proteção contra o estresse oxidativo, e (2) produzir ribose-5-fosfato, o açúcar precursor para a síntese de nucleotídeos (DNA, RNA, ATP) e coenzimas.",       topic: "Via das Pentoses Fosfato",     },     {       question: "83. Qual é a principal diferença estrutural entre óleos e gorduras em temperatura ambiente?",       options: [         "a) Óleos são de origem animal e gorduras de origem vegetal.",         "b) Óleos são formados por aminoácidos e gorduras por glicose.",         "c) Nos óleos predominam ácidos graxos insaturados, enquanto nas gorduras predominam os saturados.",         "d) Apenas as gorduras contêm glicerol em sua estrutura.",       ],       correctAnswer: "c) Nos óleos predominam ácidos graxos insaturados, enquanto nas gorduras predominam os saturados.",       comment: "A diferença física entre óleos (líquidos à temperatura ambiente) e gorduras (sólidas à temperatura ambiente) reside na composição de seus ácidos graxos. Óleos, geralmente de origem vegetal, têm uma maior proporção de ácidos graxos insaturados, cujas 'dobras' nas cadeias impedem um empacotamento compacto. Gorduras, geralmente de origem animal, são ricas em ácidos graxos saturados, que são retos e se empacotam de forma mais densa.",       topic: "Bioquímica de Lipídios",     },     {       question: "84. As pregas, vilosidades e criptas são características histológicas da mucosa de qual órgão?",       options: [         "a) Esôfago.",         "b) Estômago.",         "c) Intestino delgado.",         "d) Fígado.",       ],       correctAnswer: "c) Intestino delgado.",       comment: "A mucosa do intestino delgado é notavelmente adaptada para absorção, apresentando três níveis de dobramento para aumentar sua superfície: as pregas circulares (dobras da mucosa e submucosa), as vilosidades (evaginações da mucosa) e as criptas de Lieberkühn (invaginações da mucosa).",       topic: "Histologia do Intestino Delgado",     },     {       question: "85. Qual é o aceptor final de elétrons na cadeia respiratória mitocondrial?",       options: [         "a) Água (H2O).",         "b) Dióxido de carbono (CO2).",         "c) Oxigênio (O2).",         "d) NAD+.",       ],       correctAnswer: "c) Oxigênio (O2).",       comment: "No final da cadeia transportadora de elétrons, os elétrons de baixa energia se combinam com o oxigênio molecular (O2) e prótons (H+) para formar água (H2O). O oxigênio é, portanto, o aceptor final de elétrons, e sua presença é essencial para que a fosforilação oxidativa ocorra.",       topic: "Cadeia Respiratória",     },     {       question: "86. A estrutura anatômica que conecta a faringe ao estômago é o:",       options: [         "a) Duodeno.",         "b) Esôfago.",         "c) Traqueia.",         "d) Colo transverso.",       ],       correctAnswer: "b) Esôfago.",       comment: "O esôfago é um tubo muscular que se estende da parte laríngea da faringe, atravessa o tórax e o diafragma, e termina no estômago, funcionando para conduzir o bolo alimentar através de contrações peristálticas.",       topic: "Anatomia do Sistema Digestório",     },     {       question: "87. Os aminoácidos que o organismo humano não consegue sintetizar e, portanto, devem ser obtidos através da dieta são chamados de:",       options: [         "a) Não essenciais.",         "b) Glicogênicos.",         "c) Essenciais.",         "d) Cetogênicos.",       ],       correctAnswer: "c) Essenciais.",       comment: "Os aminoácidos são classificados em essenciais e não essenciais. Os essenciais são aqueles que o corpo não pode produzir em quantidades suficientes para suas necessidades, devendo ser fornecidos pela alimentação.",       topic: "Nutrição e Aminoácidos",     },     {       question: "88. As células mioepiteliais, encontradas ao redor dos ácinos e ductos intercalares das glândulas salivares, têm função:",       options: [         "a) Secretora.",         "b) Absortiva.",         "c) Contráctil, para auxiliar na expulsão da secreção.",         "d) Imunológica.",       ],       correctAnswer: "c) Contráctil, para auxiliar na expulsão da secreção.",       comment: "As células mioepiteliais contêm filamentos de actina e miosina, semelhantes aos das células musculares. Sua contração ajuda a expelir a saliva da porção secretora (ácinos) para o sistema de ductos, acelerando a secreção.",       topic: "Histologia das Glândulas Salivares",     },     {       question: "89. O que é o metabolismo basal?",       options: [         "a) A energia gasta durante a atividade física intensa.",         "b) A quantidade de energia gasta pelo corpo em repouso absoluto para manter as funções vitais.",         "c) A energia total consumida em um dia.",         "d) A energia obtida a partir da digestão de macronutrientes.",       ],       correctAnswer: "b) A quantidade de energia gasta pelo corpo em repouso absoluto para manter as funções vitais.",       comment: "O metabolismo basal refere-se à taxa mínima de gasto energético do corpo em repouso, em um ambiente termoneutro e em estado pós-absortivo. Essa energia é utilizada para manter funções vitais como respiração, circulação sanguínea, atividade cerebral e manutenção da temperatura corporal. A ementa do módulo especifica a necessidade de definir este conceito.",       topic: "Metabolismo Basal",     },     {       question: "90. Qual a função do ligamento falciforme do fígado?",       options: [         "a) Conectar o fígado ao estômago.",         "b) Dividir anatomicamente o fígado nos lobos direito e esquerdo e conectá-lo à parede abdominal anterior.",         "c) Transportar bile para a vesícula biliar.",         "d) Servir como principal via de entrada de vasos sanguíneos no fígado.",       ],       correctAnswer: "b) Dividir anatomicamente o fígado nos lobos direito e esquerdo e conectá-lo à parede abdominal anterior.",       comment: "O ligamento falciforme é uma prega peritoneal que se estende da parede abdominal anterior até a face diafragmática do fígado. Ele marca a divisão superficial entre o lobo hepático direito, maior, e o lobo hepático esquerdo, menor.",       topic: "Anatomia do Fígado",     },     {       question: "91. No metabolismo de lipídios, qual é o papel da carnitina?",       options: [         "a) Sintetizar ácidos graxos no citosol.",         "b) Transportar ácidos graxos de cadeia longa para dentro da matriz mitocondrial para oxidação.",         "c) Formar corpos cetônicos no fígado.",         "d) Emulsificar gorduras no intestino.",       ],       correctAnswer: "b) Transportar ácidos graxos de cadeia longa para dentro da matriz mitocondrial para oxidação.",       comment: "A membrana interna da mitocôndria é impermeável aos acil-CoA graxos (ácidos graxos ativados). A carnitina atua como um transportador, ligando-se ao grupo acil para formar acilcarnitina, que pode então ser transportada através da membrana para a matriz mitocondrial, onde a beta-oxidação ocorre.",       topic: "Metabolismo de Lipídios: Transporte de Ácidos Graxos",     },     {       question: "92. As células enteroendócrinas do tipo 'S' no intestino delgado secretam qual hormônio em resposta à acidez do quimo?",       options: [         "a) Colecistoquinina (CCK).",         "b) Gastrina.",         "c) Secretina.",         "d) Grelina.",       ],       correctAnswer: "c) Secretina.",       comment: "A presença de prótons (H+), ou seja, a acidez do quimo que chega ao duodeno, estimula as células S a liberarem o hormônio secretina. A secretina, por sua vez, atua nas células dos ductos pancreáticos, estimulando a secreção de um fluido rico em bicarbonato para neutralizar o ácido.",       topic: "Regulação Hormonal da Digestão",     },     {       question: "93. A intolerância à lactose é causada pela deficiência da enzima:",       options: [         "a) Maltase.",         "b) Sacarase.",         "c) Lactase.",         "d) Amilase.",       ],       correctAnswer: "c) Lactase.",       comment: "A lactose, o açúcar do leite, é um dissacarídeo que precisa ser quebrado em glicose e galactose para ser absorvido. A enzima responsável por essa quebra é a lactase, presente na borda em escova dos enterócitos. A deficiência dessa enzima leva à má digestão da lactose, causando sintomas como diarreia, distensão abdominal e gases.",       topic: "Intolerância à Lactose",     },     {       question: "94. Qual o nome da porção mais distal e esfincteriana do estômago, que regula a passagem do quimo para o duodeno?",       options: [         "a) Cárdia.",         "b) Fundo gástrico.",         "c) Corpo gástrico.",         "d) Piloro.",       ],       correctAnswer: "d) Piloro.",       comment: "A parte pilórica do estômago é sua região de saída, que termina no piloro. O piloro é uma região esfincteriana distal que controla o esvaziamento gástrico, permitindo a passagem do quimo para o duodeno de forma regulada.",       topic: "Anatomia do Estômago",     },     {       question: "95. Qual é o principal produto do catabolismo de carboidratos, lipídios e proteínas que entra no Ciclo de Krebs?",       options: [         "a) Piruvato.",         "b) Acetil-CoA.",         "c) Oxaloacetato.",         "d) Glicose-6-fosfato.",       ],       correctAnswer: "b) Acetil-CoA.",       comment: "O Acetil-CoA é uma molécula central no metabolismo energético. A glicólise produz piruvato que é convertido em acetil-CoA. A beta-oxidação de ácidos graxos produz diretamente acetil-CoA. O catabolismo de muitos aminoácidos também gera acetil-CoA. É a oxidação do acetil-CoA no Ciclo de Krebs que continua o processo de extração de energia.",       topic: "Integração Metabólica: Acetil-CoA",     },     {       question: "96. A organização histológica do pâncreas endócrino é do tipo:",       options: [         "a) Folicular, com armazenamento de hormônio em um coloide.",         "b) Acinosa, com ductos excretores.",         "c) Cordonal, com células organizadas em cordões entremeados por capilares sanguíneos.",         "d) Tubular simples.",       ],       correctAnswer: "c) Cordonal, com células organizadas em cordões entremeados por capilares sanguíneos.",       comment: "As ilhotas de Langerhans, que constituem o pâncreas endócrino, são organizadas como glândulas do tipo cordonal. As células secretoras de hormônios estão dispostas em cordões ou aglomerados irregulares, em íntimo contato com uma rica rede de capilares sanguíneos para que os hormônios possam ser liberados diretamente na circulação.",       topic: "Histologia do Pâncreas Endócrino",     },     {       question: "97. Os ductos intercalares das glândulas salivares são revestidos por qual tipo de epitélio?",       options: [         "a) Epitélio simples pavimentoso.",         "b) Epitélio estratificado cilíndrico.",         "c) Epitélio simples cúbico.",         "d) Epitélio pseudoestratificado.",       ],       correctAnswer: "c) Epitélio simples cúbico.",       comment: "Os ductos intercalares são os menores ductos do sistema, conectando diretamente os ácinos secretores aos ductos estriados. Eles são caracteristicamente revestidos por um epitélio simples cúbico.",       topic: "Histologia das Glândulas Salivares: Ductos",     },     {       question: "98. A digestão de proteínas é iniciada no estômago pela ação conjunta de:",       options: [         "a) Amilase e lipase.",         "b) Tripsina e quimotripsina.",         "c) Sais biliares e muco.",         "d) Ácido clorídrico (HCl) e pepsina.",       ],       correctAnswer: "d) Ácido clorídrico (HCl) e pepsina.",       comment: "A digestão proteica começa efetivamente no estômago. O HCl desnatura as proteínas, desdobrando suas estruturas e expondo as cadeias peptídicas à ação da pepsina, uma protease que inicia a hidrólise dessas cadeias em peptídeos menores.",       topic: "Fisiologia da Digestão de Proteínas",     },     {       question: "99. O que são as vilosidades aracnoides? (Esta questão é um distrator conceitual, pois não há uma estrutura com este nome no contexto do módulo).",       options: [         "a) Projeções da mucosa do intestino delgado.",         "b) Dobras do peritônio que sustentam o colo.",         "c) Células especializadas do fígado.",         "d) Esta estrutura não pertence ao sistema digestório ou ao metabolismo.",       ],       correctAnswer: "d) Esta estrutura não pertence ao sistema digestório ou ao metabolismo.",       comment: "As vilosidades aracnoides (ou granulações) são projeções da membrana aracnoide no sistema nervoso central, responsáveis pela reabsorção do líquido cefalorraquidiano. Elas não têm qualquer relação com o sistema digestório ou os processos metabólicos abordados no módulo, servindo como uma questão para avaliar a atenção e o conhecimento específico do aluno sobre os temas do curso.",       topic: "Conhecimento Específico vs. Distratores",     },     {       question: "100. O glicogênio é um polissacarídeo de reserva energética em animais, formado por unidades de:",       options: [         "a) Frutose.",         "b) Galactose.",         "c) Glicose.",         "d) Ribose.",       ],       correctAnswer: "c) Glicose.",       comment: "O glicogênio é um polímero grande e ramificado de glicose, funcionando como a principal forma de armazenamento de carboidratos no corpo, localizado principalmente no fígado e nos músculos esqueléticos.",       topic: "Bioquímica de Carboidratos: Glicogênio",     },     {       question: "101. Onde está anatomicamente localizada a flexura direita do colo (flexura hepática)?",       options: [         "a) Entre o colo transverso e o colo descendente.",         "b) Entre o colo ascendente e o colo transverso.",         "c) Na junção do colo sigmoide com o reto.",         "d) No início do ceco.",       ],       correctAnswer: "b) Entre o colo ascendente e o colo transverso.",       comment: "A flexura direita do colo, também conhecida como flexura hepática, é a curva acentuada que o intestino grosso faz entre o colo ascendente (que sobe pelo lado direito do abdômen) e o colo transverso (que cruza o abdômen). Ela está localizada inferiormente ao fígado.",       topic: "Anatomia do Intestino Grosso",     },     {       question: "102. A conversão de piruvato em acetil-CoA é uma etapa de ligação entre quais duas vias metabólicas?",       options: [         "a) Glicólise e Gliconeogênese.",         "b) Glicólise e Ciclo de Krebs.",         "c) Ciclo de Krebs e Cadeia Transportadora de Elétrons.",         "d) Beta-oxidação e Ciclo da Ureia.",       ],       correctAnswer: "b) Glicólise e Ciclo de Krebs.",       comment: "A descarboxilação oxidativa do piruvato a acetil-CoA, catalisada pelo complexo piruvato desidrogenase na matriz mitocondrial, é o passo intermediário que conecta a glicólise (que ocorre no citosol e produz piruvato) ao Ciclo de Krebs (que ocorre na matriz mitocondrial e utiliza acetil-CoA como substrato inicial).",       topic: "Integração Metabólica",     },     {       question: "103. Qual dos seguintes alimentos possui o maior índice glicêmico (IG), causando um aumento mais rápido e acentuado na glicemia?",       options: [         "a) Maçã crua.",         "b) Pão branco.",         "c) Feijão cozido.",         "d) Iogurte natural.",       ],       correctAnswer: "b) Pão branco.",       comment: "O índice glicêmico (IG) mede a rapidez com que um carboidrato eleva o açúcar no sangue. Alimentos processados e com amidos refinados, como o pão branco (IG ~70), tendem a ter um IG alto, pois são digeridos e absorvidos rapidamente. Alimentos ricos em fibras, como maçã (IG ~36) e feijão (IG ~48), ou laticínios como iogurte (IG ~14), têm um IG mais baixo.",       topic: "Índice Glicêmico",     },     {       question: "104. O que é o peritônio parietal?",       options: [         "a) A serosa que reveste diretamente a superfície dos órgãos abdominais.",         "b) A camada de tecido conjuntivo que separa os músculos abdominais.",         "c) A membrana serosa que reveste a parede interna da cavidade abdominopélvica.",         "d) O ligamento que suspende o fígado.",       ],       correctAnswer: "c) A membrana serosa que reveste a parede interna da cavidade abdominopélvica.",       comment: "O peritônio é uma membrana serosa contínua. A porção que forra a face interna das paredes da cavidade abdominopélvica é chamada de peritônio parietal. A porção que se reflete para cobrir a superfície dos órgãos é o peritônio visceral. A ementa do módulo exige a compreensão dessa organização.",       topic: "Anatomia do Peritônio",     },     {       question: "105. A albumina, a principal proteína do plasma sanguíneo, é sintetizada em qual órgão?",       options: [         "a) Pâncreas.",         "b) Rins.",         "c) Fígado.",         "d) Baço.",       ],       correctAnswer: "c) Fígado.",       comment: "O fígado desempenha um papel central na síntese da maioria das proteínas plasmáticas. Uma de suas funções endócrinas é a produção e liberação de proteínas como albumina, protrombina e fibrinogênio diretamente na corrente sanguínea.",       topic: "Funções Metabólicas do Fígado",     },     {       question: "106. No tecido adiposo unilocular, como o núcleo e o citoplasma do adipócito se apresentam na microscopia óptica de rotina (H&E)?",       options: [         "a) Ocupando a maior parte da célula, com a gordura na periferia.",         "b) Centralizados e proeminentes.",         "c) O núcleo é achatado e periférico, e o citoplasma forma um anel delgado ao redor de uma grande gotícula de gordura.",         "d) Não são visíveis devido à grande quantidade de mitocôndrias.",       ],       correctAnswer: "c) O núcleo é achatado e periférico, e o citoplasma forma um anel delgado ao redor de uma grande gotícula de gordura.",       comment: "O adipócito unilocular é dominado por uma única e grande gotícula de lipídio que ocupa quase todo o volume celular. Isso empurra o núcleo para a periferia, achatando-o, e reduz o citoplasma a uma fina borda ao redor da gordura. Na técnica de H&E, a gordura é dissolvida, deixando um grande espaço vazio.",       topic: "Histologia do Tecido Adiposo Unilocular",     },     {       question: "107. O que são os ductos estriados (ou intralobulares) nas glândulas salivares?",       options: [         "a) São os menores ductos, que se conectam diretamente aos ácinos.",         "b) São os ductos maiores, localizados nos septos de tecido conjuntivo entre os lóbulos.",         "c) São ductos que conectam os ductos intercalares aos interlobulares, com epitélio cúbico a cilíndrico e microvilosidades.",         "d) São ductos que se abrem diretamente na cavidade oral.",       ],       correctAnswer: "c) São ductos que conectam os ductos intercalares aos interlobulares, com epitélio cúbico a cilíndrico e microvilosidades.",       comment: "Os ductos intralobulares ou estriados recebem a secreção dos ductos intercalares. Eles são caracterizados por um epitélio que pode variar de cúbico simples a cilíndrico e por possuírem estriações basais (invaginações da membrana com mitocôndrias), relacionadas à modificação da saliva (reabsorção de Na+ e secreção de K+).",       topic: "Histologia das Glândulas Salivares: Ductos",     },     {       question: "108. Qual o papel do Fator Intrínseco, secretado pelas células parietais do estômago?",       options: [         "a) Digerir proteínas.",         "b) Proteger a mucosa gástrica.",         "c) É essencial para a absorção da vitamina B12 no íleo.",         "d) Estimular a secreção de ácido.",       ],       correctAnswer: "c) É essencial para a absorção da vitamina B12 no íleo.",       comment: "O fator intrínseco é uma glicoproteína que se liga à vitamina B12 no estômago, formando um complexo. Este complexo protege a vitamina da digestão e permite sua absorção por receptores específicos na porção terminal do intestino delgado (íleo).",       topic: "Fisiologia Gástrica",     },     {       question: "109. Qual é o principal destino metabólico do NADH e FADH2 produzidos na glicólise e no Ciclo de Krebs?",       options: [         "a) Serem excretados pela urina.",         "b) Serem usados na síntese de ácidos graxos.",         "c) Doarem seus elétrons para a cadeia transportadora de elétrons para a produção de ATP.",         "d) Serem convertidos diretamente em glicose.",       ],       correctAnswer: "c) Doarem seus elétrons para a cadeia transportadora de elétrons para a produção de ATP.",       comment: "NADH e FADH2 são carreadores de elétrons de alta energia. Sua principal função é transportar os elétrons, removidos da glicose e de outros substratos durante a glicólise e o Ciclo de Krebs, até a cadeia transportadora de elétrons na mitocôndria. A energia desses elétrons é então usada para sintetizar a maior parte do ATP da célula.",       topic: "Respiração Celular: Carreadores de Elétrons",     },     {       question: "110. A organização do intestino grosso é caracterizada pela presença de saculações na sua parede, conhecidas como:",       options: [         "a) Vilosidades.",         "b) Tênias.",         "c) Haustros ou saculações do colo.",         "d) Apêndices omentais.",       ],       correctAnswer: "c) Haustros ou saculações do colo.",       comment: "Os haustros, ou saculações do colo, são as bolsas ou segmentos visíveis na parede externa da maior parte do intestino grosso. Eles são formados pela contração das tênias do colo, que são mais curtas que o próprio intestino.",       topic: "Anatomia do Intestino Grosso",     },     {       question: "111. A dislipidemia é definida como:",       options: [         "a) A incapacidade de digerir lactose.",         "b) A elevação do colesterol e/ou triglicerídeos no plasma, ou a diminuição dos níveis de HDL.",         "c) Um excesso de produção de bile pelo fígado.",         "d) A absorção deficiente de lipídios no intestino.",       ],       correctAnswer: "b) A elevação do colesterol e/ou triglicerídeos no plasma, ou a diminuição dos níveis de HDL.",       comment: "Dislipidemia é um termo geral que se refere a alterações anormais nos níveis de lipídios (gorduras) no sangue. Isso inclui o aumento do colesterol total, do LDL ('mau' colesterol) e dos triglicerídeos, ou a redução do HDL ('bom' colesterol), condições que são importantes fatores de risco para a aterosclerose.",       topic: "Dislipidemia",     },     {       question: "112. O hormônio glucagon, secretado pelas células alfa do pâncreas, atua principalmente no fígado para:",       options: [         "a) Promover o armazenamento de glicose como glicogênio.",         "b) Estimular a glicogenólise e a gliconeogênese, aumentando a glicemia.",         "c) Aumentar a síntese de proteínas.",         "d) Diminuir a produção de corpos cetônicos.",       ],       correctAnswer: "b) Estimular a glicogenólise e a gliconeogênese, aumentando a glicemia.",       comment: "O glucagon é um hormônio contrarregulador da insulina. Quando os níveis de glicose no sangue caem (hipoglicemia), o glucagon é liberado pelas células alfa pancreáticas e sinaliza ao fígado para quebrar o glicogênio (glicogenólise) e sintetizar nova glicose (gliconeogênese), liberando-a na corrente sanguínea para restaurar os níveis normais de glicemia.",       topic: "Regulação Hormonal da Glicemia: Glucagon",     },     {       question: "113. Qual é a principal diferença entre um aminoácido e um cetoácido?",       options: [         "a) O cetoácido possui um grupo amino, e o aminoácido não.",         "b) O aminoácido possui um grupo amino, enquanto o cetoácido correspondente possui um grupo ceto (C=O) em seu lugar.",         "c) O cetoácido possui uma cadeia lateral, e o aminoácido não.",         "d) Não há diferença; são sinônimos.",       ],       correctAnswer: "b) O aminoácido possui um grupo amino, enquanto o cetoácido correspondente possui um grupo ceto (C=O) em seu lugar.",       comment: "A estrutura básica de um aminoácido inclui um carbono alfa ligado a um grupo amino (-NH2), um grupo carboxila (-COOH), um hidrogênio e uma cadeia lateral (R). Quando um aminoácido perde seu grupo amino por transaminação ou desaminação, o esqueleto de carbono restante é um cetoácido, que tem um grupo cetona (C=O) onde o grupo amino estava.",       topic: "Bioquímica de Aminoácidos",     },     {       question: "114. A papila maior do duodeno é o local onde desembocam quais ductos?",       options: [         "a) O ducto cístico e o ducto hepático comum.",         "b) O ducto colédoco e o ducto pancreático principal.",         "c) Apenas o ducto pancreático acessório.",         "d) As veias hepáticas.",       ],       correctAnswer: "b) O ducto colédoco e o ducto pancreático principal.",       comment: "A papila maior do duodeno é uma pequena elevação na parede da parte descendente do duodeno. É o ponto de abertura comum para o ducto colédoco (trazendo bile) e o ducto pancreático principal (trazendo suco pancreático), que geralmente se unem para formar a ampola hepatopancreática antes de se abrirem no duodeno.",       topic: "Anatomia do Duodeno e Vias Biliopancreáticas",     },     {       question: "115. A degradação de proteínas defeituosas ou de vida curta dentro da célula é frequentemente mediada pela marcação com qual pequena proteína?",       options: [         "a) Albumina.",         "b) Colágeno.",         "c) Ubiquitina.",         "d) Hemoglobina.",       ],       correctAnswer: "c) Ubiquitina.",       comment: "O sistema ubiquitina-proteassoma é a principal via para a degradação seletiva de proteínas intracelulares. As proteínas destinadas à destruição são marcadas com uma cadeia de moléculas de ubiquitina, um sinal que as direciona para o proteassoma, um complexo proteico que as degrada em pequenos peptídeos.",       topic: "Degradação de Proteínas: Ubiquitinação",     },     {       question: "116. Qual das seguintes é uma função do Retículo Endoplasmático Liso (REL) nos hepatócitos?",       options: [         "a) Síntese de proteínas para exportação.",         "b) Metabolização e destoxificação de substâncias.",         "c) Armazenamento de cálcio para contração.",         "d) Glicosilação de proteínas.",       ],       correctAnswer: "b) Metabolização e destoxificação de substâncias.",       comment: "Os hepatócitos possuem um retículo endoplasmático liso bem desenvolvido, que desempenha funções cruciais na metabolização de diversas substâncias, incluindo a destoxificação de drogas e toxinas, e o metabolismo de lipídios e esteroides. Também está envolvido na síntese de componentes da bile.",       topic: "Biologia Celular: Funções do REL",     },     {       question: "117. Em um indivíduo saudável em uma dieta equilibrada, o excesso de aminoácidos é:",       options: [         "a) Armazenado na forma de proteínas nos músculos.",         "b) Excretado inalterado na urina.",         "c) Desaminado, e seu esqueleto de carbono é convertido em glicose ou gordura para armazenamento de energia.",         "d) Convertido em ácidos nucleicos.",       ],       correctAnswer: "c) Desaminado, e seu esqueleto de carbono é convertido em glicose ou gordura para armazenamento de energia.",       comment: "O corpo humano não armazena aminoácidos em excesso da mesma forma que armazena glicose (como glicogênio) ou gordura. Quando a ingestão de aminoácidos excede a necessidade para a síntese de proteínas e outros compostos nitrogenados, eles são catabolizados. O grupo amino é removido (e eventualmente convertido em ureia), e o esqueleto de carbono restante pode ser oxidado para gerar energia ou convertido em glicose (gliconeogênese) ou ácidos graxos (lipogênese).",       topic: "Metabolismo de Aminoácidos",     },     {       question: "118. O que é o glicocálice, encontrado na superfície apical dos enterócitos?",       options: [         "a) Uma camada de músculo liso que ajuda na contração.",         "b) A camada de tecido conjuntivo abaixo do epitélio.",         "c) Uma camada rica em carboidratos (glicoproteínas e glicolipídios) na superfície externa da membrana celular.",         "d) O principal transportador de glicose na célula.",       ],       correctAnswer: "c) Uma camada rica em carboidratos (glicoproteínas e glicolipídios) na superfície externa da membrana celular.",       comment: "O glicocálice é uma camada de carboidratos que reveste a superfície externa da membrana plasmática das células, incluindo os enterócitos. Ele é formado pelas porções de carboidratos de glicoproteínas e glicolipídios que se estendem para o lúmen intestinal e está envolvido na proteção celular, adesão e reconhecimento, além de conter algumas enzimas digestivas.",       topic: "Histologia e Biologia Celular do Intestino",     },     {       question: "119. A condição de hipolipidemia é definida por:",       options: [         "a) Níveis elevados de LDL no sangue.",         "b) Níveis elevados de triglicerídeos.",         "c) Níveis muito baixos de colesterol total (< 120 mg/dL) ou LDL (< 50 mg/dL).",         "d) Incapacidade de sintetizar quilomícrons.",       ],       correctAnswer: "c) Níveis muito baixos de colesterol total (< 120 mg/dL) ou LDL (< 50 mg/dL).",       comment: "A hipolipidemia é o oposto da hiperlipidemia e caracteriza-se por concentrações anormalmente baixas de lipoproteínas no plasma. É formalmente definida por um colesterol total abaixo de 120 mg/dL ou um LDL-colesterol abaixo de 50 mg/dL. Geralmente é assintomática e pode ser causada por fatores genéticos ou secundários, como desnutrição ou hipertireoidismo.",       topic: "Dislipidemia: Hipolipidemia",     },     {       question: "120. Qual o principal papel do exercício físico na integração do metabolismo?",       options: [         "a) Aumentar o armazenamento de gordura e diminuir o catabolismo.",         "b) Diminuir a necessidade de ATP e oxigênio.",         "c) Aumentar a demanda energética, ativando vias catabólicas como a glicogenólise e a lipólise para fornecer substratos para a produção de ATP.",         "d) Inibir completamente as vias anabólicas como a síntese proteica.",       ],       correctAnswer: "c) Aumentar a demanda energética, ativando vias catabólicas como a glicogenólise e a lipólise para fornecer substratos para a produção de ATP.",       comment: "O exercício físico aumenta drasticamente a demanda de ATP pelas células musculares. Para atender a essa demanda, o corpo ativa vias catabólicas para mobilizar seus estoques de energia. A glicogenólise quebra o glicogênio muscular e hepático para fornecer glicose, e a lipólise quebra os triglicerídeos para fornecer ácidos graxos, ambos substratos essenciais para a respiração celular e a produção de ATP. A ementa do módulo enfatiza a importância de relacionar a integração anabólica e catabólica com o exercício.",       topic: "Fisiologia do Exercício e Integração Metabólica",     }, ];

    function buildQuiz() {
      const output = [];

      questions.forEach((currentQuestion, questionNumber) => {
        const options = [];
        for (let i = 0; i < currentQuestion.options.length; i++) {
          options.push(
            `<label class="option" data-question="${questionNumber}" data-value="${currentQuestion.options[i]}">
              <img src="tesouras.png" class="scissor-icon" onclick="event.stopPropagation(); this.parentNode.classList.toggle('struck-through');">
              ${currentQuestion.options[i]}
            </label>`
          );
        }

        output.push(
          `<div class="card" id="question-${questionNumber}" data-topic="${currentQuestion.topic}">
            <div class="question">${currentQuestion.question}</div>
            <div class="options">${options.join("")}</div>
            <div class="comment" id="comment-${questionNumber}"></div>
          </div>`
        );
      });

      quizContainer.innerHTML = output.join("");
    }

    function showResults() {
      wrongQuestionIndices = [];
      errorCountByTopic = {};
      totalAnsweredQuestionsByTopic = {};
      currentWrongQuestionIndex = -1;
      hasErrors = false;
      isShowingErrors = false;
      isShowingDiagnosis = false;

      errorDiagnosisSection.style.display = 'none';
      topicsToReviewList.innerHTML = '';
      statusMessage.textContent = '';

      // Busca por todas as perguntas: estáticas e dinâmicas
      const allQuestionCards = document.querySelectorAll('.quiz-container .card, #newQuestionsContent .card');
      let correctAnswersCount = 0;
      let totalQuestionsAnswered = 0;

      console.log('🔍 Verificando', allQuestionCards.length, 'perguntas...');

      allQuestionCards.forEach((card, index) => {
        const questionEl = card.querySelector('.question') || card.querySelector('p');
        if (!questionEl) return;

        const questionText = questionEl.textContent.trim();
        const optionsContainer = card.querySelector('.options') || card;
        const allOptions = optionsContainer.querySelectorAll('.option, label.option, label');
        const userAnswerElement = optionsContainer.querySelector('.option.selected, label.selected');
        const commentDiv = card.querySelector('.comment');

        const questionTopic = card.dataset.topic || "Tópico não informado";
        
        console.log(`📝 Pergunta ${index + 1}: Tópico = "${questionTopic}"`);
        console.log(`🔍 Encontradas ${allOptions.length} alternativas`);
        
        // Remove classes anteriores
        allOptions.forEach(option => {
          option.classList.remove('correct', 'incorrect', 'selected');
        });
        if (commentDiv) commentDiv.classList.remove('show');

        let correctAnswerValue = null;
        let questionComment = null;

        // Verifica se é pergunta estática ou dinâmica
        const isStatic = card.id && card.id.startsWith('question-');
        if (isStatic) {
          // Pergunta estática - busca nos dados originais
          const questionData = questions.find(q => q.question.trim() === questionText);
          if (questionData) {
            correctAnswerValue = questionData.correctAnswer.trim();
            questionComment = questionData.comment;
          }
        } else {
          // Pergunta dinâmica - busca pela opção marcada como correta
          const correctOpt = optionsContainer.querySelector('.option[data-answer="true"], label[data-answer="true"]');
          if (correctOpt) {
            correctAnswerValue = correctOpt.dataset.value?.trim() || correctOpt.textContent.trim();
            console.log(`✅ Resposta correta encontrada: "${correctAnswerValue}"`);
          } else {
            console.log('❌ Nenhuma resposta correta encontrada para pergunta dinâmica');
          }
          
          // Busca comentário no próprio card ou no div comment
          const commentElement = card.querySelector('.comment');
          if (commentElement && commentElement.textContent.trim()) {
            questionComment = commentElement.textContent.trim();
          }
        }

        // Processa resposta do usuário e aplica coloração
        let userAnswer = null;
        if (userAnswerElement) {
          userAnswerElement.classList.add('selected');
          userAnswer = userAnswerElement.dataset.value?.trim() || userAnswerElement.textContent.trim();
          totalQuestionsAnswered++;
          totalAnsweredQuestionsByTopic[questionTopic] = (totalAnsweredQuestionsByTopic[questionTopic] || 0) + 1;

          console.log(`👤 Resposta do usuário: "${userAnswer}"`);
          console.log(`🎯 Resposta correta: "${correctAnswerValue}"`);

          // Verifica se a resposta está correta
          if (userAnswer === correctAnswerValue) {
            correctAnswersCount++;
            console.log(`✅ Resposta correta!`);
          } else {
            hasErrors = true;
            errorCountByTopic[questionTopic] = (errorCountByTopic[questionTopic] || 0) + 1;
            console.log(`❌ Resposta incorreta para tópico: ${questionTopic}`);
          }
        }

        // Aplica coloração: SEMPRE marca a correta de verde, e a errada de vermelho se foi marcada
        allOptions.forEach(option => {
          const optionValue = option.dataset.value?.trim() || option.textContent.trim();
          
          // Marca a resposta correta de verde SEMPRE
          if (optionValue === correctAnswerValue) {
            option.classList.add('correct');
            console.log(`🟢 Marcando como correta: "${optionValue}"`);
          }
          
          // Se o usuário marcou uma resposta E ela está errada, marca de vermelho
          if (userAnswer && optionValue === userAnswer && userAnswer !== correctAnswerValue) {
            option.classList.add('incorrect');
            console.log(`🔴 Marcando como incorreta: "${optionValue}"`);
          }
        });

        // Mostra comentário se disponível
        if (commentDiv && questionComment) {
          commentDiv.textContent = questionComment;
          commentDiv.classList.add('show');
        }
      });

      // Exibe resultados
      resultsContainer.textContent = `Você acertou ${correctAnswersCount} de ${totalQuestionsAnswered} questões respondidas.`;

      console.log('📊 Erros por tópico:', errorCountByTopic);
      console.log('📊 Total por tópico:', totalAnsweredQuestionsByTopic);

      // Gera diagnóstico de erros
      if (hasErrors) {
        for (const topic in errorCountByTopic) {
          const errors = errorCountByTopic[topic];
          const total = totalAnsweredQuestionsByTopic[topic] || 0;
          if (total > 0) {
            const percent = ((errors / total) * 100).toFixed(1);
            const li = document.createElement('li');
            li.textContent = `${topic}: ${percent}% de erros (${errors} de ${total} questões respondidas)`;
            topicsToReviewList.appendChild(li);
          }
        }
      } else {
        const li = document.createElement('li');
        li.textContent = "🥳 Parabéns! Você não teve erros nas questões respondidas.";
        topicsToReviewList.appendChild(li);
      }

      errorDiagnosisSection.style.display = 'block';
      generatedQuestionsSection.style.display = 'block';
      generateNewQuestionsBtn.style.display = 'block';
      scrollToDiagnosis();
    }

    function scrollToQuestion(index) {
      const questionCard = document.getElementById(`question-${index}`);
      if (questionCard) {
        questionCard.scrollIntoView({ behavior: 'smooth', block: 'center' });
      }
    }

    function scrollToDiagnosis() {
        errorDiagnosisSection.scrollIntoView({ behavior: 'smooth', block: 'start' });
    }

    function scrollToGeneratedQuestions() {
        generatedQuestionsSection.scrollIntoView({ behavior: 'smooth', block: 'start' });
    }

    // Event listener para seleção de opções (funciona para estáticas e dinâmicas)
    document.addEventListener("click", function (event) {
      const clickedElement = event.target;
      const optionElement = clickedElement.closest('.option');

      if (optionElement) {
          if (clickedElement.classList.contains("scissor-icon")) {
              event.stopPropagation();
              optionElement.classList.toggle("struck-through");
          }
          else {
              const parentCard = optionElement.closest('.card');
              const currentQuestionOptions = parentCard.querySelectorAll('.option');

              currentQuestionOptions.forEach(opt => opt.classList.remove("selected"));
              optionElement.classList.add("selected");
          }
      }
    });

    generateNewQuestionsBtn.addEventListener("click", async function() {
        statusMessage.textContent = '⏳ Gerando novas perguntas...';
        generateNewQuestionsBtn.disabled = true;

        const topics = Object.keys(errorCountByTopic).filter(topic => {
            const errorsInTopic = errorCountByTopic[topic] || 0;
            const totalAnsweredInTopic = totalAnsweredQuestionsByTopic[topic] || 0;
            return errorsInTopic > 0 && totalAnsweredInTopic > 0;
        });

        const topicsToSend = topics.length > 0 ? topics : ["fisiologia celular", "biologia"];

        try {
            const response = await fetch('https://www.quizia.xyz/quiz', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json',
                },
                body: JSON.stringify({ topicos: topicsToSend }),
            });

            if (!response.ok) {
                throw new Error(`HTTP error! status: ${response.status}`);
            }

            const data = await response.json();

            newQuestionsContent.innerHTML = '';
            if (data && data.html) {
                console.log('📥 HTML recebido do Flask:', data.html);
                
                // Insere o HTML diretamente sem reconstrução complexa
                newQuestionsContent.innerHTML = data.html.replace(/```html|```/g, '');
                
                // Adiciona tesouras e ajusta formatação apenas se necessário
                newQuestionsContent.querySelectorAll('.card').forEach((card, cardIndex) => {
                    // Garante que o elemento de pergunta tenha a classe correta
                    const questionElement = card.querySelector('p');
                    if (questionElement && !questionElement.classList.contains('question')) {
                       questionElement.classList.add('question');
                    }

                    // Remove qualquer input de radio que possa existir e adiciona tesouras
                    card.querySelectorAll('label').forEach((label) => {
                        // Remove inputs de radio MAS preserva o atributo data-answer
                        const radioInput = label.querySelector('input[type="radio"]');
                        if (radioInput) {
                            // PRESERVA o atributo data-answer do input no label
                            if (radioInput.hasAttribute('data-answer')) {
                                label.setAttribute('data-answer', radioInput.getAttribute('data-answer'));
                            }
                            radioInput.remove();
                        }
                        
                        // Garante que tenha a classe option
                        if (!label.classList.contains('option')) {
                            label.classList.add('option');
                        }

                        // Garante que tenha data-value
                        if (!label.dataset.value) {
                            label.dataset.value = label.textContent.trim();
                        }

                        // Adiciona tesoura se não existir
                        if (!label.querySelector('.scissor-icon')) {
                            const scissorIcon = document.createElement('img');
                            scissorIcon.src = 'tesouras.png';
                            scissorIcon.className = 'scissor-icon';
                            scissorIcon.onclick = function(e) {
                                e.stopPropagation();
                                label.classList.toggle('struck-through');
                            };
                            label.insertBefore(scissorIcon, label.firstChild);
                        }
                    });

                    console.log(`🏷️ Card ${cardIndex}: data-topic = "${card.dataset.topic}"`);
                    
                    // Verifica se há opção correta marcada
                    const correctOption = card.querySelector('label[data-answer="true"]');
                    if (correctOption) {
                        console.log(`✅ Opção correta encontrada: "${correctOption.dataset.value}"`);
                    } else {
                        console.log('❌ Nenhuma opção correta encontrada');
                    }
                });
            } else {
                newQuestionsContent.innerHTML = "<p>Não foi possível gerar novas perguntas para os tópicos selecionados.</p>";
            }
            
            generatedQuestionsSection.style.display = 'block';
            scrollToGeneratedQuestions();
            statusMessage.textContent = '✅ Perguntas geradas com sucesso!';
            setTimeout(() => { statusMessage.textContent = '' }, 3000);

        } catch (error) {
            console.error('Erro ao gerar novas perguntas:', error);
            newQuestionsContent.innerHTML = `<p>Erro ao carregar novas perguntas: ${error.message}. Por favor, tente novamente.</p>`;
            generatedQuestionsSection.style.display = 'block';
            scrollToGeneratedQuestions();
            statusMessage.textContent = '❌ Erro na requisição: ' + error.message;
            setTimeout(() => { statusMessage.textContent = '' }, 5000);
        } finally {
            generateNewQuestionsBtn.disabled = false;
        }
    });

    // Inicialização
    buildQuiz();
    errorDiagnosisSection.style.display = 'none';
    generatedQuestionsSection.style.display = 'none';
    generateNewQuestionsBtn.style.display = 'none';

    // Event listener para o botão de verificar respostas
    document.getElementById("verifyAnswersBtn").addEventListener("click", showResults);
  </script>
</body>
</html>
